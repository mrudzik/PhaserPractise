var t=Object.defineProperty,e=(e,i,s)=>((e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s)(e,"symbol"!=typeof i?i+"":i,s);import{r as i,g as s}from"./phaser-CLYd3JIB.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const i of t)if("childList"===i.type)for(const t of i.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var a=i();const o=s(a),n=""+new URL("SpaceBlue3-CJYZRc2-.png",import.meta.url).href,r=""+new URL("loading-BaRUym4c.png",import.meta.url).href;class l extends a.Scene{constructor(){super("Boot")}preload(){this.load.image("imgSpaceBackground",n),this.load.image("imgLoading",r)}create(){this.scene.start("Preloader")}}const h=720,c=1520;async function d(t,e={}){const i=localStorage.getItem("auth_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3NjQyNTQxMTAsImlhdCI6MTc2NDI1MDUxMCwidXNlcl9pZCI6MTgzOTczfQ.iz1gqn3YlUPU8lg3r6khOTgp7wyaUhA3mmY2WrWq92Y",s={Authorization:`Bearer ${i}`,"Content-Type":"application/json"},a=await fetch("https://dev.oilf.farm/api"+t,{headers:s,...e});return a.ok||(console.error(`Request failed: ${a.status} ${a.statusText}`,a),401===a.status&&console.error("Unauthorized: Token may be expired or invalid. Current token:",i.substring(0,20)+"...")),await a.json()}var u;function g(t){console.log(`Sending msg ${t}`),u.readyState===WebSocket.OPEN?u.send(t):console.warn("WebSocket is not open. Message not sent.")}const m="net_LevelPanel_",p="net_LevelBack_",A="net_Fuel_",y="net_Crate_";class f{static GetCoin(){return this.ProfileData.mini_game.coins_balance}static SetCoin(t){this.ProfileData.mini_game.coins_balance=t}static AddCoin(t){this.ProfileData.mini_game.coins_balance+=t}static GetCrypto(){return this.ProfileData.mini_game.ton_balance}static SetCrypto(t){this.ProfileData.mini_game.ton_balance=t}static AddCrypto(t){let e=parseFloat(this.ProfileData.mini_game.ton_balance)+parseFloat(t);this.ProfileData.mini_game.ton_balance=e.toFixed(2)}static AddChest(t,e=0){this.CrateList.forEach((i=>{i.id==e&&(i.count+=t)}))}static GetFuel(){return this.ProfileData.mini_game.rocket_fuel_balance}static SetFuel(t){this.ProfileData.mini_game.rocket_fuel_balance=t}static AddFuel(t){this.ProfileData.mini_game.rocket_fuel_balance=parseInt(this.ProfileData.mini_game.rocket_fuel_balance)+parseInt(t)}static SetLevelData(t){if(this.LevelData=t,this.chestOnLevel=-1,t.chests){let e=t.chests;this.chestOnLevel=e[0].count,this.chestID=e[0].id}else t.chests=[];console.log(t.chests),this.trapsOnLevel=t.trap_count,this.coinsOnLevel=t.coin_count,this.cryptoOnLevel=t.ton_count,this.cryptoValue=t.ton_coin_value}static async LoadTextures(t){if(this.isDataLoaded)return;let e=0;this.LevelsList.forEach((i=>{t.load.image(`${m}${e}`,i.preview_image),t.load.image(`${p}${i.id}`,i.background_image),e++})),e=0,this.FuelList.forEach((i=>{t.load.image(`${A}${e}`,i.image),e++})),e=0,this.CrateList.forEach((i=>{t.load.image(`${y}${i.id}`,i.image),e++})),this.isDataLoaded=!0}static async GetProfileData(){await d("/mini-game/profile").then((t=>{console.log(t),this.ProfileData=t}))}static async GetLevelData(){await d("/mini-game/levels").then((t=>{console.log(t),this.LevelsList=t}))}static async GetFuelData(){await d("/mini-game/fuel-offers").then((t=>{console.log(t),this.FuelList=t}))}static async GetChestData(){await d("/mini-game/my-chests").then((t=>{console.log(t),this.CrateList=t}))}static async SendWithdrawalRequest(){}static ResetState(){this.LevelsList=void 0,this.FuelList=void 0,this.CrateList=void 0,this.LevelData=void 0,this.pickedCoin=0,this.pickedCrypto=0,this.pickedChest=0,this.pickedChestNum=0,this.tryingPurchaseFuel=-1,this.tryingWasteTon=-1,this.LevelAmmount=-1,this.CrateAmmount=-1,this.isDataLoaded=!1,this.isGameReady=!1}}function w(t){return f.Localization.get(t)}e(f,"ProfileData"),e(f,"LevelsList"),e(f,"FuelList"),e(f,"CrateList"),e(f,"Localization"),e(f,"LevelAmmount",-1),e(f,"CrateAmmount",-1),e(f,"isDataLoaded",!1),e(f,"LevelData"),e(f,"isGameReady",!1),e(f,"pickedCoin",0),e(f,"pickedCrypto",0),e(f,"pickedChest",0),e(f,"pickedChestNum",0),e(f,"tryingPurchaseFuel",-1),e(f,"tryingWasteTon",-1);class S{constructor(){this.roundStarted=!1,this.isDead=!1,this.isDebugMode=!1,this.textShowRoundTime,this.tweenPlayerIdle,this.tweenPlayerDying,this.timer,this.startTime=0,this.roundTime=0,this.roundTimeLimit=1e4,this.levelScenario,this.nextEncounterAt=0,this.spawnedEncs=0,this.playerRef,this.eventEmmiter,this.textShowHowToStart,this.textShowAvoidObstacles,this.textShowCollectCoins,this.imgShowObstacle1,this.imgShowObstacle2,this.imgShowTreasure1,this.imgShowTreasure2,this.tweenShowHowToStart,this.tweenInstructions}refreshUpdate(){if(this.isDebugMode&&this.textShowRoundTime.setText(`Scene Time ${this.timer.now}\nRound Time ${this.roundTime} | ${this.roundTimeLimit}\nTime since last trap spawn ${this.trapSpawnTimer} | ${this.trapDelay}\nTime since last coin spawn ${this.coinSpawnTimer} | ${this.coinDelay}`),this.roundStarted&&!this.isDead&&(this.roundTime=Math.round(this.timer.now-this.startTime),this.roundTime>this.roundTimeLimit&&(this.eventEmmiter.emit("roundTimeExpired"),this.roundStarted=!1),this.roundTime>this.nextEncounterAt&&this.levelScenario.length>this.spawnedEncs)){let t=this.levelScenario[this.spawnedEncs];t.isPrize?"coin"==t.name?this.eventEmmiter.emit("spawnCoin",t):"ton"==t.name?this.eventEmmiter.emit("spawnTon",t):"chest"==t.name&&this.eventEmmiter.emit("spawnChest",t):this.eventEmmiter.emit("spawnTrap"),this.levelScenario.length>this.spawnedEncs+1?(this.spawnedEncs++,this.nextEncounterAt+=this.levelScenario[this.spawnedEncs].offset):this.spawnedEncs++}}setupRoundController(t){this.textShowRoundTime=t.add.text(10,10,"",{fontFamily:"Inter",fontStyle:"Bold",fontSize:15,color:"#ffffff",stroke:"#000000",strokeThickness:1}),this.timer=t.time,this.playerRef=t.playerControll.player,this.eventEmmiter=new o.Events.EventEmitter,this.eventEmmiter.on("spawnTrap",(()=>{t.trapControll.spawnTrapLogic(t)})),this.eventEmmiter.on("spawnCoin",(e=>{t.prizeDropControll.spawnCoinLogic(t,e)})),this.eventEmmiter.on("spawnTon",(e=>{t.prizeDropControll.spawnTonLogic(t,e)})),this.eventEmmiter.on("spawnChest",(e=>{t.prizeDropControll.spawnChestLogic(t,e)})),this.eventEmmiter.on("roundTimeExpired",(()=>{t.roundTimeExpired()}))}setupRoundInstructions(t){this.textShowHowToStart=t.add.text(360,1320,w("game_start"),{fontFamily:"F_Toxigenesis",fontSize:40,color:"#ffffff",stroke:"#000000",strokeThickness:2}).setOrigin(.5),this.tweenShowHowToStart=t.tweens.add({targets:this.textShowHowToStart,props:{scale:{value:1.4,ease:"Sine.easeOut"}},duration:1e3,repeat:-1,yoyo:!0}),this.textShowAvoidObstacles=t.add.text(360,200,w("game_advice_1"),{fontFamily:"F_Toxigenesis",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}).setOrigin(.5),this.textShowCollectCoins=t.add.text(360,600,w("game_advice_2"),{fontFamily:"F_Toxigenesis",fontSize:25,color:"#ffffff",stroke:"#000000",strokeThickness:2,align:"center"}).setOrigin(.5),this.imgShowObstacle1=t.add.sprite(160,320,"imgAsteroid").setScale(.8,.8).setOrigin(.5),this.imgShowObstacle2=t.add.sprite(360,320,"imgIceChunk").setScale(.8,.8).setOrigin(.5),this.imgShowObstacle3=t.add.sprite(560,320,"spaceTrash_4").setScale(.8,.8).setAngle(30).setOrigin(.5),this.imgShowTreasure1=t.add.sprite(610,600,"imgCoin").setScale(.8,.8).setOrigin(0,.5),this.imgShowTreasure2=t.add.sprite(110,600,"imgCoin").setScale(.8,.8).setOrigin(1,.5),this.tweenInstructions=t.tweens.add({targets:[this.textShowAvoidObstacles,this.textShowCollectCoins,this.imgShowObstacle1,this.imgShowObstacle2,this.imgShowObstacle3,this.imgShowTreasure1,this.imgShowTreasure2],props:{scale:{value:1.1,ease:"Sine.easeOut"}},duration:1e3,repeat:-1,yoyo:!0})}hideInstructions(){this.textShowHowToStart.visible=!1,this.tweenShowHowToStart.complete(),this.tweenPlayerIdle.complete(),this.textShowAvoidObstacles.visible=!1,this.textShowCollectCoins.visible=!1,this.imgShowObstacle1.setVisible(!1),this.imgShowObstacle2.setVisible(!1),this.imgShowObstacle3.setVisible(!1),this.imgShowTreasure1.setVisible(!1),this.imgShowTreasure2.setVisible(!1),this.tweenInstructions.complete()}startRound(){this.roundStarted||(this.hideInstructions(),this.buildLevelScenario(),this.roundStarted=!0,this.playerRef.body.allowGravity=!0,this.startTime=this.timer.now,this.trapTimeSpawnedAt=this.timer.now)}buildLevelScenario(){let t=f.LevelData,e=t.trap_count,i=t.coin_count,s=t.ton_count,a=0;t.chests.forEach((t=>{a+=t.count}));let o=e+i+s+a;console.log(`Summary of encounters: ${o}`);let n=Math.floor((o-e)/e),r=(o-e)%e,l=[];for(let d=0;d<o;d++)l.push(I.createEmpty());for(let d=0;d<e;d++)l[r+(n+1)*d]=I.createTrap();let h=[];for(let d=0;d<i;d++)h.push(I.createCoin());for(let d=0;d<s;d++)h.push(I.createTon(t.ton_coin_value));t.chests.forEach((t=>{for(let e=0;e<t.count;e++)h.push(I.createChest(t.id))})),h=this.shuffle(h);let c=0;this.roundTimeLimit=5e3;for(let d=0;d<l.length;d++)"none"==l[d].name&&c<h.length&&(l[d]=h[c],c++),this.roundTimeLimit+=l[d].offset;this.levelScenario=l,console.log("Time for round in seconds "+.001*this.roundTimeLimit)}shuffle(t){for(var e,i,s=t.length;s;)i=Math.floor(Math.random()*s--),e=t[s],t[s]=t[i],t[i]=e;return t}}class I{constructor(t,e,i=!1,s=0,a=-1){this.name=t,this.offset=e,this.isPrize=i,this.amount=s,this.id=a}static createEmpty(){return new I("none",10)}static createCoin(){return new I("coin",1500,!0,1)}static createTon(t){return new I("ton",1500,!0,t)}static createChest(t){return new I("chest",2e3,!0,1,t)}static createTrap(){return new I("trap",200)}}class b{constructor(){this.trapsArray=[]}refreshUpdate(){for(let t=0;t<this.trapsArray.length;t++)this.trapsArray[t].updateObj()}destroyAllObjects(){this.trapsArray.forEach((t=>{t.destroyAllObjects()}))}spawnTrapLogic(t){let e=Math.random();e<.3?t.trapControll.trapsArray.push(B.spawnTrap(t)):e<.6?t.trapControll.trapsArray.push(x.spawnTrap(t)):t.trapControll.trapsArray.push(k.spawnTrap(t))}}class C{constructor(){this.isMirrored=!1,this.trapLine,this.asteroids=[],this.visualsSpawnOffset=0,this.visualsTextureName="imgBackAsteroid_",this.visualsTextureCount=5}updateObj(){for(let t=0;t<this.asteroids.length;t++)this.asteroids[t].refreshPosition(this.trapLine.y,this.isMirrored)}destroyAllObjects(){this.asteroids.forEach((t=>{t.circleObj.destroy()}))}setupTrapLine(t){var e=t.add.rectangle(360,-100,h,10,10860233,256);t.physics.world.enable(e),e.body.allowGravity=!1,e.body.velocity.y=t.moveSpeed,this.trapLine=e,this.isMirrored=Math.round(Math.random())}spawnVisualsLayer(t,e,i,s,a){var o=920/s;for(let n=0;n<s;n++)this.spawnDecorativeAsteroid(t,o*n,Math.random()*a+this.visualsSpawnOffset,e,i)}spawnDecorativeAsteroid(t,e,i,s,a){var o=new v;return o.circleObj=t.add.sprite(e,i,`${this.visualsTextureName}${Math.round(Math.random()*(this.visualsTextureCount-1)+1)}`).setScale(s,s).setAngle(180*Math.random()-90),o.offsetY=i,o.isDeco=!0,this.isMirrored?o.decoSpeed=-a:o.decoSpeed=a,this.asteroids.push(o),o}}class k extends C{static spawnTrap(t){console.log("Spawning ice trap");var e=new k;e.visualsSpawnOffset=-1500,e.visualsTextureName="imgBackIce_",e.setupTrapLine(t),e.spawnVisualsLayer(t,.5,5,40,1500),e.spawnVisualsLayer(t,1,2.5,20,1100);var i=Math.ceil(3*Math.random())+2,s=e.visualsSpawnOffset/i;for(let a=0;a<i;a++)e.spawnAsteroid(t,920*Math.random(),s*a+50*Math.random()-100,200*Math.random()+100);return e}spawnAsteroid(t,e,i,s){var a=new v;return a.circleObj=t.add.sprite(e,i,"imgIceChunk").setScale(.8,.8).setAngle(180*Math.random()-90),a.offsetY=i,t.physics.world.enable(a.circleObj),a.circleObj.body.allowGravity=!1,this.isMirrored?a.circleObj.body.velocity.x=-s:a.circleObj.body.velocity.x=s,a.circleObj.body.setCircle(60,15,20),t.physics.add.overlap(a.circleObj,t.playerControll.player,t.collisionPlayerAsteroid,null,t),this.asteroids.push(a),a}}class x extends C{static spawnTrap(t){console.log("Spawning trash trap");var e=new x;return e.visualsSpawnOffset=-1500,e.setupTrapLine(t),e.spawnVisualsLayer(t,.5,3,40,1500),e.spawnVisualsLayer(t,1,1.5,25,1100),e.spawnTrash(t,-500-100*Math.random(),.5),e.spawnTrash(t,-800-100*Math.random(),.5),e.spawnTrash(t,-1100-100*Math.random(),.5),e.spawnTrash(t,-1300-100*Math.random(),.5),e}spawnTrash(t,e,i){var s=new v,a=25+80*Math.random();s.isRight=Math.round(Math.random()),s.isRight&&(a=h-(25+80*Math.random())),s.circleObj=t.add.sprite(a,e,`spaceTrash_${Math.round(3*Math.random()+1)}`).setScale(i,i).setAngle(180*Math.random()-90),s.offsetY=e,t.physics.world.enable(s.circleObj),s.circleObj.body.allowGravity=!1,s.circleObj.body.velocity.y=t.moveSpeed,t.physics.add.overlap(s.circleObj,t.playerControll.player,(()=>{t.collisionPlayerAsteroid()})),t.physics.add.overlap(s.circleObj,t.playerControll.playerMagnet,s.collisionMagnet,null,s),this.asteroids.push(s)}}class B extends C{static spawnTrap(t){console.log("Spawning ring trap");var e=new B;e.visualsSpawnOffset=-200,e.setupTrapLine(t),e.spawnVisualsLayer(t,.5,5,18,300),e.spawnVisualsLayer(t,1,2.5,6,200);var i=920/3;return e.spawnAsteroid(t,0,50*Math.random()-100,100),e.spawnAsteroid(t,i,50*Math.random()-100,100),e.spawnAsteroid(t,2*i,50*Math.random()-100,100),e}spawnAsteroid(t,e,i,s){var a=new v;return a.circleObj=t.add.sprite(e,i,"imgAsteroid").setScale(.8,.8).setAngle(180*Math.random()-90),a.offsetY=i,t.physics.world.enable(a.circleObj),a.circleObj.body.allowGravity=!1,this.isMirrored?a.circleObj.body.velocity.x=-s:a.circleObj.body.velocity.x=s,a.circleObj.body.setCircle(60,15,20),t.physics.add.overlap(a.circleObj,t.playerControll.player,t.collisionPlayerAsteroid,null,t),this.asteroids.push(a),a}}class v{constructor(){this.circleObj,this.offsetY=0,this.outOfMapRange=100,this.isDeco=!1,this.decoSpeed,this.isPulling=!1,this.pullSpeed=4.2,this.isRight=!1}refreshPosition(t,e){e?(this.circleObj.y=t+this.offsetY,this.circleObj.x<-this.outOfMapRange&&(this.circleObj.x=h+this.outOfMapRange)):(this.circleObj.y=t+this.offsetY,this.circleObj.x>h+this.outOfMapRange&&(this.circleObj.x=-this.outOfMapRange)),this.isDeco&&(this.circleObj.x+=this.decoSpeed),this.isPulling&&(console.log("Trash pulling"),this.isPulling=!1,this.isRight?this.circleObj.x-=this.pullSpeed:this.circleObj.x+=this.pullSpeed)}collisionMagnet(){this.isPulling=!0}}class P{constructor(){this.backLayers=[]}refreshUpdate(){for(let t=0;t<this.backLayers.length;t++)this.backLayers[t].update()}setupSpaceBackground(t){console.log(`Level ID = ${f.levelID}`),-1==f.levelID?this.backLayers.push(new T(t.add.image(360,760,"imgSpaceBackground"),t.add.image(360,760,"imgSpaceBackground"),.3,2)):(console.log(`Texture name ${p}${f.levelID}`),this.backLayers.push(new T(t.add.image(360,760,`${p}${f.levelID}`),t.add.image(360,760,`${p}${f.levelID}`),.3,2))),this.backLayers.push(new T(t.add.image(360,760,"imgSpaceStars"),t.add.image(360,760,"imgSpaceStars"),.4,2))}}class T{constructor(t,e,i,s){this.imgPart1=t,this.imgPart1.setScale(s,s),this.imgPart2=e,this.imgPart2.setScale(s,s),this.imgPart2.y-=this.imgPart1.height*s,this.moveSpeed=i,this.size=s,this.initialPosition=this.imgPart1.y,this.currentHeight=this.imgPart1.height*this.size,this.lowBorder=this.currentHeight+this.initialPosition}update(){this.imgPart1.y+=this.moveSpeed,this.imgPart2.y+=this.moveSpeed,this.checkLowBorder(this.imgPart1),this.checkLowBorder(this.imgPart2)}checkLowBorder(t){t.y>this.lowBorder&&(t.y-=2*this.currentHeight)}}const E="vibrate"in navigator;function F(t){E&&navigator.vibrate(t)}class R{constructor(t){this.scene=t,this.coinSet=new Set,this.tonSet=new Set,this.chestSet=new Set,this.effectCoinPickup,this.effectTonPickup,this.effectChestPickup}init(t){this.effectCoinPickup=t.add.particles(0,0,"imgCoin",{speed:100,scale:.3,duration:100,emitting:!1}),this.effectTonPickup=t.add.particles(0,0,"imgCrypto",{speed:100,scale:.1,duration:100,emitting:!1}),this.effectChestPickup=t.add.particles(0,0,"imgCrypto",{speed:100,scale:.1,duration:100,emitting:!1}),f.pickedCoin=0,f.pickedCrypto=0,f.pickedChest=new Map,f.pickedChestNum=0}refreshUpdate(){this.coinSet.forEach((t=>{t.updateObj()})),this.tonSet.forEach((t=>{t.updateObj()})),this.chestSet.forEach((t=>{t.updateObj()}))}addCoin(t){this.coinSet.add(t)}addTon(t){this.tonSet.add(t)}addChest(t){this.tonSet.add(t)}destroyAllObjects(){this.coinSet.forEach((t=>{t.imgPrize.destroy(),t.textAmmount.destroy()})),this.tonSet.forEach((t=>{t.imgPrize.destroy(),t.textAmmount.destroy()})),this.chestSet.forEach((t=>{t.imgPrize.destroy(),t.textAmmount.destroy()}))}pickupCoin(t){this.effectCoinPickup.x=t.imgPrize.x,this.effectCoinPickup.y=t.imgPrize.y,this.effectCoinPickup.start(),f.pickedCoin+=t.numAmmount,f.AddCoin(t.numAmmount),this.scene.topIndicators.refreshGameValues(),this.deleteCoin(t),F(300),this.scene.soundPickup.play(),function(){let t={uuid:`${crypto.randomUUID()}`,type:"caught_coin"};g(JSON.stringify(t))}()}pickupTon(t){this.effectTonPickup.x=t.imgPrize.x,this.effectTonPickup.y=t.imgPrize.y,this.effectTonPickup.start();let e=parseFloat(f.pickedCrypto)+parseFloat(t.numAmmount);f.pickedCrypto=e.toFixed(2),this.scene.topIndicators.refreshGameValues(),this.deleteTon(t),F(300),this.scene.soundPickup.play(),function(){let t={uuid:`${crypto.randomUUID()}`,type:"caught_ton"};g(JSON.stringify(t))}()}pickupChest(t){if(this.effectChestPickup.x=t.imgPrize.x,this.effectChestPickup.y=t.imgPrize.y,this.effectChestPickup.start(),f.pickedChest.has(t.id)){let e=f.pickedChest.get(t.id);f.pickedChest.set(t.id,e+t.numAmmount)}else f.pickedChest.set(t.id,t.numAmmount);f.pickedChestNum+=t.numAmmount,f.AddChest(t.numAmmount,t.id),this.scene.topIndicators.refreshGameValues(),this.deleteChest(t),F(300),this.scene.soundPickup.play(),function(t){let e={uuid:`${crypto.randomUUID()}`,type:"caught_chest",data:`${t}`};g(JSON.stringify(e))}(t.id)}deleteCoin(t){this.coinSet.delete(t),t.destroy()}deleteTon(t){this.tonSet.delete(t),t.destroy()}deleteChest(t){this.chestSet.delete(t),t.destroy()}spawnCoinLogic(t,e){console.log("Spawning coin");let i=Math.round(Math.random()),s=e.amount,a=20+Math.round(120*Math.random());if(i){const e=this.spawnCoin(t,h-a,-65,s,i);this.addCoin(e)}else{const e=this.spawnCoin(t,a,-65,s,i);this.addCoin(e)}}spawnCoin(t,e,i,s,a){var o=new O;return o.imgPrize=t.add.sprite(e,i,"imgCoin").setScale(.8,.8),o.textAmmount=t.add.text(e,i+o.offsetText,`${s}`,{fontFamily:"Inter",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),o.numAmmount=s,o.isRight=a,o.initialX=e,t.physics.world.enable(o.imgPrize),o.imgPrize.body.allowGravity=!1,o.imgPrize.body.velocity.y=t.moveSpeed,t.physics.add.overlap(o.imgPrize,t.playerControll.player,(()=>{this.pickupCoin(o)})),t.physics.add.overlap(o.imgPrize,t.playerControll.playerMagnet,o.collisionMagnetCoin,null,o),o}spawnTonLogic(t,e){console.log("Spawning ton");let i=Math.round(Math.random()),s=e.amount,a=20+Math.round(120*Math.random());if(i){const e=this.spawnTon(t,h-a,-65,s,i);this.addTon(e)}else{const e=this.spawnTon(t,a,-65,s,i);this.addTon(e)}}spawnTon(t,e,i,s,a){var o=new M;return o.imgPrize=t.add.sprite(e,i,"imgCrypto").setScale(.25,.25),o.textAmmount=t.add.text(e,i+o.offsetText,`${s}`,{fontFamily:"Inter",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),o.numAmmount=s,o.isRight=a,o.initialX=e,t.physics.world.enable(o.imgPrize),o.imgPrize.body.allowGravity=!1,o.imgPrize.body.velocity.y=t.moveSpeed,t.physics.add.overlap(o.imgPrize,t.playerControll.player,(()=>{this.pickupTon(o)})),t.physics.add.overlap(o.imgPrize,t.playerControll.playerMagnet,o.collisionMagnetCoin,null,o),o}spawnChestLogic(t,e){console.log("Spawning chest");let i=Math.round(Math.random()),s=20+Math.round(120*Math.random()),a=e.id;if(i){const e=this.spawnChest(t,h-s,-65,1,i,a);this.addChest(e)}else{const e=this.spawnChest(t,s,-65,1,i,a);this.addChest(e)}}spawnChest(t,e,i,s,a,o){var n=new D;return n.id=o,n.imgPrize=t.add.sprite(e,i,`${y}${o}`).setScale(.5,.5),n.textAmmount=t.add.text(e,i+n.offsetText,`${s}`,{fontFamily:"Inter",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),n.numAmmount=s,n.isRight=a,n.initialX=e,t.physics.world.enable(n.imgPrize),n.imgPrize.body.allowGravity=!1,n.imgPrize.body.velocity.y=t.moveSpeed,t.physics.add.overlap(n.imgPrize,t.playerControll.player,(()=>{this.pickupChest(n)})),t.physics.add.overlap(n.imgPrize,t.playerControll.playerMagnet,n.collisionMagnetCoin,null,n),n}}class O{constructor(){this.imgPrize,this.textAmmount,this.numAmmount,this.offsetText=45,this.isRight,this.pullSpeed=4,this.pullbackSpeed=0,this.isPulling=!1,this.initialX,this.isMoved=!1}destroy(){this.imgPrize.destroy(),this.textAmmount.destroy()}updateObj(){this.textAmmount.y=this.imgPrize.y+this.offsetText,this.textAmmount.x=this.imgPrize.x,this.isPulling?(this.isPulling=!1,this.isMoved=!0,this.isRight?this.imgPrize.x-=this.pullSpeed:this.imgPrize.x+=this.pullSpeed):this.isMoved&&(this.isRight?(this.imgPrize.x+=this.pullbackSpeed,this.imgPrize.x>this.initialX&&(this.isMoved=!1)):(this.imgPrize.x-=this.pullbackSpeed,this.imgPrize.x<this.initialX&&(this.isMoved=!1)))}collisionMagnetCoin(){this.isPulling=!0}}class M extends O{constructor(){super(),this.pullSpeed=2.5}}class D extends O{constructor(){super(),this.pullSpeed=2,this.id=0}}class L{constructor(){this.SpeedUp=-600,this.player,this.playerMagnet,this.offsetMagnet=-10,this.jumpOn=!1,this.effectJetpackThrust,this.upBorder,this.downBorder,this.currAngle=0,this.upAngle=30,this.downAngle=-20,this.angleSpeed=1.5}setupPlayer(t){this.playerMagnet=t.add.rectangle(360,960,h,70,535434,255),t.physics.world.enable(this.playerMagnet),this.playerMagnet.body.allowGravity=!1,this.playerMagnet.body.immovable=!0,this.player=t.add.sprite(360,960,"sheetMaogaFly").setScale(1,1).setDepth(20),this.player.play("maogaFlyIdle",!0),t.physics.world.enable(this.player),this.player.body.setCollideWorldBounds(!0),this.player.body.allowGravity=!1,this.player.body.setMaxVelocity(0,800),this.player.body.setCircle(35,30,25),t.roundControll.tweenPlayerIdle=t.tweens.add({targets:this.player,y:810,ease:"Sine.easeOut",duration:800,repeat:-1,yoyo:!0}),this.effectJetpackThrust=t.add.sprite(300,300,"sheetThrust").setScale(2.1,2.1).setDepth(19).setOrigin(.5,.2),this.effectJetpackThrust.play("thrust",!0),this.upBorder=t.add.rectangle(360,0,h,5,535434,255),t.physics.world.enable(this.upBorder),this.upBorder.body.allowGravity=!1,this.downBorder=t.add.rectangle(360,c,h,5,535434,255),t.physics.world.enable(this.downBorder),this.downBorder.body.allowGravity=!1,t.physics.add.overlap(this.upBorder,this.player,t.collisionPlayerAsteroid,null,t),t.physics.add.overlap(this.downBorder,this.player,t.collisionPlayerAsteroid,null,t)}jumpStart(){this.jumpOn=!0,this.player.play("maogaFlyDown",!0),this.effectJetpackThrust.setDepth(19)}jumpEnd(){this.jumpOn=!1,this.player.play("maogaFlyUp",!0),this.player.body.velocity.y=-400,this.effectJetpackThrust.setDepth(21)}refreshUpdate(t){this.jumpOn?(this.player.body.velocity.y=this.SpeedUp,this.effectJetpackThrust.setScale(3.2,7).setOrigin(.5,.1),this.currAngle+=this.angleSpeed,this.currAngle>this.upAngle&&(this.currAngle=this.upAngle)):(this.effectJetpackThrust.setScale(1.8,4).setOrigin(.5,.1),this.currAngle-=.5*this.angleSpeed,this.currAngle<this.downAngle&&(this.currAngle=this.downAngle)),t.roundControll.roundStarted&&this.player.setAngle(-this.currAngle),this.playerMagnet.y=this.player.y,this.effectJetpackThrust.x=this.player.x-10,this.effectJetpackThrust.y=this.player.y+25}}class V{constructor(){this.rewardBoxes=[],this.rectBackground,this.rectPanel,this.imgReturnButton,this.textTitle,this.textDescription,this.textReward,this.textReturnButton,this.rewardSquares=[]}ShowEverything(t){this.rectBackground.setVisible(t),this.rectPanel.setVisible(t),this.imgReturnButton.setVisible(t),this.textTitle.visible=t,this.textDescription.visible=t,this.textReward.visible=t,this.textReturnButton.visible=t,this.rewardSquares.forEach((e=>{e.rect.setVisible(t),e.img.setVisible(t),e.text.visible=t}))}createPage(t){this.rectBackground=t.add.rectangle(0,0,h,c,0,60).setOrigin(0).setInteractive().on("pointerdown",((t,e,i,s)=>{})),this.rectPanel=t.add.rectangle(360,760,680,490,2043445,40).setOrigin(.5,.5).setRounded(10).setStrokeStyle(4,0).setInteractive(),this.imgReturnButton=t.add.image(360,940,"imgPurpleButton4x").setScale(.8,.7).setOrigin(.5).setInteractive().on("pointerdown",((e,i,s,a)=>{f.AddCrypto(f.pickedCrypto),t.toMainMenu()})),this.textTitle=t.add.text(360,560,w("game_lose_title"),{fontFamily:"F_Toxigenesis",fontSize:30,color:"#FFFFFF"}).setOrigin(.5),this.textDescription=t.add.text(360,660,w("game_lose_desc"),{fontFamily:"F_Inter",fontStyle:"Bold",fontSize:22,color:"#ffffff",stroke:"#000000",strokeThickness:1,align:"center",wordWrap:{width:600}}).setOrigin(.5),this.textReward=t.add.text(360,750,w("game_reward"),{fontFamily:"F_Toxigenesis",fontSize:25,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(.5),this.textReturnButton=t.add.text(360,940,w("game_button_continue"),{fontFamily:"F_Toxigenesis",fontSize:18,color:"#FEBB19",stroke:"#000000",strokeThickness:1,align:"center"}).setOrigin(.5),this.rewardSquares=[],f.pickedCoin>0&&this.rewardSquares.push(this.createRewardSquare(t,310,"imgCoin",3898815,.8,f.pickedCoin)),f.pickedCrypto>0&&this.rewardSquares.push(this.createRewardSquare(t,410,"imgCrypto",7224564,.3,f.pickedCrypto)),console.log("Counting chests"),f.pickedChest.entries().forEach((([e,i],s)=>{console.log(`Id : ${e}  Count : ${i}`),this.rewardSquares.push(this.createRewardSquare(t,410+100*(s+1),`${y}${e}`,3898815,.5,i))}));switch(this.rewardSquares.length){case 1:this.changeXPos(this.rewardSquares[0],360);break;case 2:this.changeXPos(this.rewardSquares[0],310),this.changeXPos(this.rewardSquares[1],410);break;case 3:this.changeXPos(this.rewardSquares[0],360),this.changeXPos(this.rewardSquares[1],460),this.changeXPos(this.rewardSquares[2],260);break;case 4:this.changeXPos(this.rewardSquares[0],310),this.changeXPos(this.rewardSquares[1],210),this.changeXPos(this.rewardSquares[2],410),this.changeXPos(this.rewardSquares[3],510)}this.ShowEverything(!1)}changeXPos(t,e){t.rect.x=e,t.img.x=e,t.text.x=e}createRewardSquare(t,e,i,s,a,o){return{rect:t.add.rectangle(e,810,80,80,s,20).setOrigin(.5).setRounded(10).setStrokeStyle(4,0),img:t.add.image(e,810,i).setScale(a,a).setOrigin(.5),text:t.add.text(e,870,`x ${o}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:22,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(.5)}}}class G{constructor(){this.textCoin,this.textTon,this.textFuel}createTopIndicators(t,e=!0){let i=100;t.add.rectangle(20,i,190,60,1449766,1).setOrigin(0,.5).setRounded(10).setDepth(100),t.add.rectangle(360,i,190,60,1449766,1).setOrigin(.5,.5).setRounded(10).setDepth(100),t.add.rectangle(700,i,190,60,1449766,1).setOrigin(1,.5).setRounded(10).setDepth(100),t.add.image(50,i,"imgCoin").setScale(.7).setDepth(100),this.textCoin=t.add.text(85,i,`${f.GetCoin()}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5).setDepth(100),t.add.image(298,i,"imgCrypto").setScale(.25).setDepth(100),this.textTon=t.add.text(333,i,`${f.GetCrypto()}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5).setDepth(100);e?(t.add.image(535,i,"imgFuel").setScale(.4).setDepth(100),t.add.image(665,i,"imgPlus").setScale(.6).setDepth(100).setInteractive().on("pointerdown",((e,i,s,a)=>{t.uiController.openFuelPage()}))):t.add.image(535,i,"imgIconChest").setScale(.4).setDepth(100),this.textFuel=t.add.text(570,i,`${f.GetFuel()}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5).setDepth(100)}refreshGameValues(){this.textCoin.text=f.pickedCoin,this.textTon.text=f.pickedCrypto,this.textFuel.text=f.pickedChestNum}refreshValues(){this.textCoin.text=f.GetCoin(),this.textTon.text=f.GetCrypto(),this.textFuel.text=f.GetFuel()}setValues(t,e,i){this.textCoin.text=t,this.textTon.text=e,this.textFuel.text=i}}class U extends a.Scene{constructor(){super("Game"),this.backgroundControll,this.playerControll,this.roundControll,this.trapControll,this.prizeDropControll,this.gameEndPage,this.topIndicators,this.moveSpeed=200,this.deathExplosion,this.soundPickup,this.soundDeath}create(){this.backgroundControll=new P,this.playerControll=new L,this.roundControll=new S,this.trapControll=new b,this.prizeDropControll=new R(this),this.gameEndPage=new V,this.topIndicators=new G,this.physics.world.gravity.y=1500,this.backgroundControll.setupSpaceBackground(this),this.playerControll.setupPlayer(this),this.setupInput(),this.roundControll.setupRoundController(this),this.roundControll.setupRoundInstructions(this),this.prizeDropControll.init(this),this.topIndicators.createTopIndicators(this,!1),this.topIndicators.setValues(0,0,0),this.deathExplosion=this.add.sprite(300,300,"sheetCircleExp").setScale(3,3),this.cameras.main.fadeIn(500,0,0,0),this.soundPickup=this.sound.add("soundPickupPrize"),this.soundDeath=this.sound.add("soundDeath"),f.isGameReady=!1,function(){let t=f.levelID,e=f.ProfileData.uuid;(u=new WebSocket(`wss://socket.dev.oilf.farm/ws/game?user_uuid=${e}&lvl_id=${t}`)).onopen=function(t){console.log("WebSocket connection established:",t)},u.onmessage=function(t){console.log("Message from server:",t.data);let e=JSON.parse(t.data);if(""!=e.data&&"game ready"!=e.data){let t=JSON.parse(e.data);console.log(`Parsed data ${t.trap_count}`),t.trap_count&&(f.SetLevelData(t),f.isGameReady=!0)}},u.onclose=function(t){t.wasClean?console.log(`Connection closed cleanly, code=${t.code}, reason=${t.reason}`):console.error("Connection lost unexpectedly")},u.onerror=function(t){console.error("WebSocket error observed:",t)}}()}update(){this.playerControll.refreshUpdate(this),this.roundControll.refreshUpdate(),this.roundControll.roundStarted&&(this.trapControll.refreshUpdate(),this.prizeDropControll.refreshUpdate()),this.backgroundControll.refreshUpdate()}setupInput(){const t=this.add.rectangle(0,c,h,600,16777215,0).setOrigin(0,1).setInteractive();t.on("pointerdown",(()=>{this.inputJumpStart()})),t.on("pointerup",(()=>{this.inputJumpEnd()}));var e=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);e.on("down",(()=>{this.inputJumpStart()})),e.on("up",(()=>{this.inputJumpEnd()}))}inputJumpStart(){f.isGameReady&&(this.playerControll.jumpStart(),this.roundControll.startRound())}inputJumpEnd(){f.isGameReady&&1!=this.roundControll.isDead&&this.playerControll.jumpEnd()}collisionPlayerAsteroid(){this.roundControll.roundStarted&&this.gameOver(!1)}roundTimeExpired(){this.gameOver(!0)}gameOver(t){this.gameEndPage.createPage(this),t?(this.gameEndPage.textTitle.text=w("game_win_title"),this.gameEndPage.textDescription.text=w("game_win_desc"),function(){let t={uuid:`${crypto.randomUUID()}`,type:"lvl_completed"};g(JSON.stringify(t))}(),this.inputJumpStart(),this.playerControll.player.setAngle(-25),this.roundControll.tweenPlayerDying=this.tweens.add({targets:this.playerControll.player,y:-500,ease:"Circular.In",duration:1800,repeat:0,yoyo:!1})):(function(){let t={uuid:`${crypto.randomUUID()}`,type:"lvl_failed"};g(JSON.stringify(t))}(),F(800),this.soundDeath.play(),this.playerControll.effectJetpackThrust.destroy(),this.deathExplosion.x=this.playerControll.player.x,this.deathExplosion.y=this.playerControll.player.y,this.deathExplosion.play("explode",!0),this.roundControll.tweenPlayerDying=this.tweens.add({targets:this.playerControll.player,props:{scale:{value:0,ease:"Sine.easeIn"}},duration:100,repeat:0,yoyo:!1})),this.playerControll.playerMagnet.destroy(),this.physics.world.disable(this.playerControll.player),this.roundControll.isDead=!0,this.prizeDropControll.destroyAllObjects(),setTimeout((()=>{this.gameEndPage.ShowEverything(!0),this.roundControll.roundStarted=!1,this.trapControll.destroyAllObjects()}),1800)}toMainMenu(){this.gameEndPage.ShowEverything(!1),this.cameras.main.fade(1e3,0,0,0),setTimeout((()=>{this.scene.start("MainMenu")}),1500)}}class j extends a.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class J{}function N(t){t.on(Phaser.Input.Events.GAMEOBJECT_POINTER_MOVE,(function(){J.isPressed=!1}))}e(J,"isPressed",!1);class z{constructor(){this.galaxyPanels=[],this.imgBackground,this.textChoose,this.isShowing=!1,this.currentShift=0,this.maxShift=0,this.minShift=-0,this.upScrollScreen,this.downScrollScreen}movePanels(t){let e=this.currentShift+t;e>this.maxShift?t=this.maxShift-this.currentShift:e<this.minShift&&(t=this.minShift-this.currentShift),this.galaxyPanels.forEach((e=>{e.MoveAllObjects(t)})),this.currentShift+=t}ShowEverything(t){this.imgBackground.setVisible(t);for(let e=0;e<this.galaxyPanels.length;e++)this.galaxyPanels[e].SetVisibility(t);this.isShowing=t,this.upScrollScreen&&this.upScrollScreen.setVisible(t),this.downScrollScreen&&this.downScrollScreen.setVisible(t)}createGalaxyPage(t){this.imgBackground=t.add.rectangle(0,0,h,c,0,60).setOrigin(0).setInteractive().on("pointerdown",((t,e,i,s)=>{}));let e=300,i=0;f.LevelsList.forEach((s=>{let a=this.createGalaxyPanel(t,170+e*i,s,i);this.galaxyPanels.push(a),i++,i>2&&(this.minShift-=e)})),f.LevelsList.forEach((s=>{let a=this.createGalaxyPanel(t,170+e*i,s,i);this.galaxyPanels.push(a),i++,i>2&&(this.minShift-=e)})),this.upScrollScreen=t.add.rectangle(0,0,h,150,0,60).setOrigin(0).setInteractive(),this.downScrollScreen=t.add.rectangle(0,1220,h,300,0,60).setOrigin(0).setInteractive(),N(this.upScrollScreen),N(this.downScrollScreen),this.ShowEverything(!1)}createGalaxyPanel(t,e,i,s){let a=new Q;a.backgroundPicFaded=t.add.rectangle(20,e+10,680,280,2043445,40).setOrigin(0).setRounded(10).setInteractive(),a.backgroundPicOutline=t.add.rectangle(360,e+115,665,120,1401470,20).setOrigin(.5).setRounded(10),a.backgroundPic=t.add.image(360,e+60,`${m}${s}`).setOrigin(.5,0).setScale(.69,.55),a.nameText=t.add.text(40,e+20,i.title,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:20,color:"#FEBB19",stroke:"#000000",strokeThickness:1}),a.textDescription=t.add.text(40,e+180,i.description,{fontFamily:"F_Inter",fontStyle:"Bold",fontSize:18,color:"#FFFFFF",stroke:"#000000",strokeThickness:1,wordWrap:{width:660}});let o=e+255;i.coins_count>0&&(a.coinIcon=t.add.image(40,o,"imgCoin").setScale(.6,.6).setOrigin(0,.5),a.coinText=t.add.text(90,o,i.coins_count,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5)),i.ton>0&&(a.cryptoIcon=t.add.image(160,o,"imgCrypto").setScale(.2,.2).setOrigin(0,.5),a.cryptoText=t.add.text(210,o,i.ton,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5));return a.rectFuelCost=t.add.rectangle(520,o,150,33,2563894,1).setRounded(16).setStrokeStyle(2,0),a.imgFuel=t.add.image(470,o,"imgFuel").setScale(.45,.45),a.textFuel=t.add.text(510,o,`${i.fuel_race_fee}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),a.buttonPlayRect=t.add.image(620,o,"imgPurpleFuelButton").setScale(.45,.45).setInteractive().on("pointerdown",((e,s,a,o)=>{t.uiController.launchGame(i.id,i.fuel_race_fee,i.coins_count,i.ton)})),a.buttonPlayText=t.add.text(620,o,w("button_start"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),a.allGameObjects.push(a.backgroundPicOutline),a.allGameObjects.push(a.backgroundPic),a.allGameObjects.push(a.backgroundPicFaded),a.allGameObjects.push(a.nameText),a.allGameObjects.push(a.textDescription),a.allGameObjects.push(a.coinText,a.coinIcon),a.cryptoText&&a.allGameObjects.push(a.cryptoText,a.cryptoIcon),a.allGameObjects.push(a.buttonPlayRect,a.buttonPlayText),a.allGameObjects.push(a.rectFuelCost,a.imgFuel,a.textFuel),function(t,e){var i=t.y;function s(t){if(!J.isPressed)return;let s=t.y-i;i=t.y,e.movePanels(s)}t.on(Phaser.Input.Events.POINTER_DOWN,(function(e){J.isPressed=!0,t.on(Phaser.Input.Events.GAMEOBJECT_POINTER_MOVE,s),i=e.y})),t.on(Phaser.Input.Events.POINTER_UP,(function(){J.isPressed=!1,t.off(Phaser.Input.Events.GAMEOBJECT_POINTER_MOVE,s)}))}(a.backgroundPicFaded,this),a}}class Q{constructor(){this.allGameObjects=[],this.backgroundPicOutline,this.backgroundPic,this.backgroundPicFaded,this.nameText,this.textDescription,this.isDemo,this.coinText,this.coinIcon,this.cryptoText,this.cryptoIcon,this.buttonPlayRect,this.buttonPlayText,this.rectFuelCost,this.imgFuel,this.textFuel}SetVisibility(t){this.backgroundPicOutline.setVisible(t),this.backgroundPic.setVisible(t),this.backgroundPicFaded.setVisible(t),this.nameText.visible=t,this.textDescription.visible=t,this.coinText.visible=t,this.coinIcon.setVisible(t),this.cryptoText&&this.cryptoIcon&&(this.cryptoText.visible=t,this.cryptoIcon.setVisible(t)),this.buttonPlayRect.setVisible(t),this.buttonPlayText.visible=t,this.rectFuelCost.setVisible(t),this.imgFuel.setVisible(t),this.textFuel.visible=t}MoveAllObjects(t){this.allGameObjects.forEach((e=>{e.y+=t}))}}class Y{constructor(){this.buyPanels=[],this.imgBackground,this.textChoose,this.isShowing}ShowEverything(t){this.isShowing=t,this.imgBackground.setVisible(t),this.textChoose.visible=t;for(let e=0;e<this.buyPanels.length;e++)this.buyPanels[e].SetVisibility(t)}createFuelBuyPage(t){this.imgBackground=t.add.rectangle(0,0,h,c,0,60).setOrigin(0).setInteractive().on("pointerdown",((t,e,i,s)=>{})),this.textChoose=t.add.text(360,190,w("fuel_page_title"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:30,color:"#FFFFFF"}).setOrigin(.5);let e=260;this.buyPanels.push(this.createFuelBuyPanel(t,f.FuelList,0,e,10)),this.buyPanels.push(this.createFuelBuyPanel(t,f.FuelList,1,e+=250,20)),this.buyPanels.push(this.createFuelBuyPanel(t,f.FuelList,2,e+=250,30)),this.ShowEverything(!1)}createFuelBuyPanel(t,e,i,s){let a=new W;a.rectBackground=t.add.rectangle(360,s,680,220,2043445,40).setOrigin(.5,0).setRounded(10).setStrokeStyle(4,0).setInteractive(),a.rectFuel=t.add.rectangle(110,s+90,150,150,1401470,20).setOrigin(.5).setRounded(10).setStrokeStyle(4,0),a.imgFuel=t.add.image(110,s+90,`${A}${i}`).setScale(.5,.5).setOrigin(.5),a.textAmmount=t.add.text(110,s+185,`x${e[i].rocket_fuel}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:25,color:"#FEBB19"}).setOrigin(.5);let o=s+180;a.rectButton=t.add.rectangle(420,o,200,33,2563894,1).setRounded(16).setStrokeStyle(2,0),a.imgBuy=t.add.image(575,o,"imgPurpleFuelButton2x").setScale(.45,.45).setOrigin(.5).setInteractive().on("pointerdown",((s,a,o,n)=>{t.uiController.pushPurchaseFuelEvent(e[i].rocket_fuel,e[i].ton_cost,e[i].id)})),a.textBuy=t.add.text(575,o,w("button_buy"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:24,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(.5),a.textPrice=t.add.text(390,o,`${e[i].ton_cost}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#FFFFFF",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),a.imgCryptoIcon=t.add.image(355,o,"imgCrypto").setScale(.3,.3);let n=s+40;return a.textOffer=t.add.text(210,n,`${e[i].title}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:25,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(0),a.textDescription=t.add.text(210,n+40,`${e[i].description}`,{fontFamily:"F_Inter",fontStyle:"Bold",fontSize:18,color:"#ffffff",stroke:"#000000",strokeThickness:1,wordWrap:{width:400}}).setOrigin(0),a}}class W{constructor(){this.rectBackground,this.rectFuel,this.imgFuel,this.textAmmount,this.textOffer,this.textDescription,this.rectButton,this.imgBuy,this.textBuy,this.textPrice,this.imgCryptoIcon}SetVisibility(t){this.rectBackground.setVisible(t),this.rectFuel.setVisible(t),this.imgFuel.setVisible(t),this.textAmmount.visible=t,this.textOffer.visible=t,this.textDescription.visible=t,this.rectButton.setVisible(t),this.imgBuy.setVisible(t),this.textBuy.visible=t,this.textPrice.visible=t,this.imgCryptoIcon.setVisible(t)}}class Z{constructor(){this.casePanels=[],this.imgBackground,this.textChoose,this.isShowing=!1}ShowEverything(t){this.imgBackground.setVisible(t),this.textChoose.visible=t;for(let e=0;e<this.casePanels.length;e++)this.casePanels[e].SetVisibility(t);this.isShowing=t}createCaseOpenPage(t){this.imgBackground=t.add.rectangle(0,0,h,c,0,60).setOrigin(0).setInteractive().on("pointerdown",((t,e,i,s)=>{})),this.textChoose=t.add.text(360,190,w("chest_page_title"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:30,color:"#FFFFFF"}).setOrigin(.5);let e=0;this.casePanels=[],f.CrateList.forEach((i=>{var s=this.createCaseOpenPanel(t,f.CrateList,e,260+250*e);this.casePanels.push(s),e++})),this.ShowEverything(!1)}createCaseOpenPanel(t,e,i,s){var a=new H;a.dataIndex=i,a.sceneCtx=t,a.rectBackground=t.add.rectangle(360,s,680,230,2043445,40).setOrigin(.5,0).setRounded(10).setStrokeStyle(4,0).setInteractive(),a.rectCase=t.add.rectangle(110,s+90,150,150,1401470,20).setOrigin(.5).setRounded(10).setStrokeStyle(4,0),a.imgCase=t.add.image(110,s+90,`${y}${e[i].id}`).setScale(1,1).setOrigin(.5),a.imgCircle=t.add.image(180,s+160,"imgCircle").setScale(.3,.3),a.textAmmount=t.add.text(180,s+160,`${e[i].count}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:20,color:"#FEBB19"}).setOrigin(.5);let o=s+180+10;a.rectButton=t.add.rectangle(420,o,200,33,2563894,1).setRounded(16).setStrokeStyle(2,0),a.imgBuy=t.add.image(575,o,"imgPurpleFuelButton2x").setScale(.45,.45).setOrigin(.5).setInteractive().on("pointerdown",((t,e,i,s)=>{a.RequestOpenCase(),a.imgBuy.disableInteractive()})),a.textBuy=t.add.text(575,o,w("button_open"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:24,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(.5),a.textPrice=t.add.text(380,o,`${e[i].fuel_opening_cost}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#FFFFFF",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),a.rectRewardButton=t.add.rectangle(320,o,400,33,2563894,1).setRounded(16).setStrokeStyle(2,0),a.imgRewardButton=t.add.image(575,o,"imgPurpleFuelButton2x").setScale(.45,.45).setOrigin(.5).setInteractive().on("pointerdown",((t,e,i,s)=>{a.SetVisibility(!0),a.ShowReward(!1)}));a.imgRewardCoin=t.add.image(150,o,"imgCoin").setScale(.8,.8),a.imgRewardCrypto=t.add.image(350,o,"imgCrypto").setScale(.28,.28),a.textRewardButton=t.add.text(575,o,w("button_get"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:24,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(.5),a.textRewardCoin=t.add.text(180,o,"12345",{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#FFFFFF",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),a.textRewardCrypto=t.add.text(380,o,"10",{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:23,color:"#FFFFFF",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),a.ShowReward(!1),a.imgFuelIcon=t.add.image(350,o,"imgFuel").setScale(.5,.5),a.fxImgFuelIcon=a.imgFuelIcon.preFX.addColorMatrix(),a.fxImgFuelIcon.grayscale(0),a.fxImgBuy=a.imgBuy.preFX.addColorMatrix(),a.fxImgBuy.grayscale(0),a.fxImgCircle=a.imgCircle.preFX.addColorMatrix(),a.fxImgCircle.grayscale(0);let n=s+40;return a.textOffer=t.add.text(210,n,`${e[i].title}`,{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:25,color:"#FEBB19",stroke:"#000000",strokeThickness:1}).setOrigin(0),a.textDescription=t.add.text(210,n+40,`${e[i].description}`,{fontFamily:"F_Inter",fontStyle:"Bold",fontSize:18,color:"#ffffff",stroke:"#000000",strokeThickness:1,wordWrap:{width:400}}).setOrigin(0),a}}class H{constructor(){this.sceneCtx,this.dataIndex=-1,this.rectBackground,this.rectCase,this.imgCase,this.imgCircle,this.textAmmount,this.textOffer,this.textDescription,this.rectButton,this.imgBuy,this.textBuy,this.textPrice,this.imgFuelIcon,this.rectRewardButton,this.imgRewardButton,this.imgRewardCoin,this.imgRewardCrypto,this.textRewardButton,this.textRewardCoin,this.textRewardCrypto,this.fxImgFuelIcon,this.fxImgBuy,this.fxImgCircle}RequestOpenCase(){(async function(t){return d(`/mini-game/my-chests/${t}/open`,{method:"POST"})})(f.CrateList[this.dataIndex].id).then((t=>{console.log(t),t.success&&this.SetShowReward(t.message,t.coins,t.ton,t.chests_count)}))}SetVisibility(t){this.rectBackground.setVisible(t),this.rectCase.setVisible(t),this.imgCase.setVisible(t),this.imgCircle.setVisible(t),this.textAmmount.visible=t,this.textOffer.visible=t,this.textDescription.visible=t,this.rectButton.setVisible(t),this.imgBuy.setVisible(t),this.textBuy.visible=t,this.textPrice.visible=t,this.imgFuelIcon.setVisible(t),t?(this.SetDefaults(),0==this.textAmmount.text&&this.SetUnavalible()):this.ShowReward(!1)}SetDefaults(){this.textOffer.text=f.CrateList[this.dataIndex].title,this.textDescription.text=f.CrateList[this.dataIndex].description,this.textOffer.setFill("#FEBB19"),this.textDescription.setFill("#ffffff"),this.textAmmount.setFill("#FEBB19"),this.textPrice.setFill("#FFFFFF"),this.textBuy.setFill("#FEBB19"),this.rectBackground.fillColor=2043445,this.rectCase.fillColor=1401470,this.rectButton.fillColor=2563894,this.imgCase.setAlpha(1),this.fxImgFuelIcon.grayscale(0),this.fxImgBuy.grayscale(0),this.fxImgCircle.grayscale(0),this.imgBuy.setInteractive()}SetUnavalible(){this.textOffer.setFill("#BBBBBB"),this.textDescription.setFill("#BBBBBB"),this.textAmmount.setFill("#5F5F5F"),this.textPrice.setFill("#BBBBBB"),this.textBuy.setFill("#BBBBBB"),this.rectBackground.fillColor=4276545,this.rectCase.fillColor=7895160,this.rectButton.fillColor=2171169,this.imgCase.setAlpha(.5),this.fxImgFuelIcon.grayscale(1),this.fxImgBuy.grayscale(1),this.fxImgCircle.grayscale(1),this.imgBuy.disableInteractive()}SetShowReward(t,e,i,s){this.rectBackground.fillColor=5713858,this.rectCase.fillColor=1709605,this.textOffer.text=w("reward_title"),this.textDescription.text=t,this.textRewardCoin.text=e,this.textRewardCrypto.text=i,this.textAmmount.text=s,f.AddCoin(e),f.AddCrypto(i),f.AddFuel(-this.textPrice.text),this.sceneCtx.topIndicators.refreshValues(),this.rectButton.setVisible(!1),this.imgFuelIcon.setVisible(!1),this.imgCircle.setVisible(!1),this.textAmmount.visible=!1,this.textBuy.visible=!1,this.textPrice.visible=!1,this.ShowReward(!0)}ShowReward(t){this.rectRewardButton.setVisible(t),this.imgRewardButton.setVisible(t),this.imgRewardCoin.setVisible(t),this.imgRewardCrypto.setVisible(t),this.textRewardButton.visible=t,this.textRewardCoin.visible=t,this.textRewardCrypto.visible=t}}class K{constructor(){}createBottomButtons(t){let e=1400;t.add.image(20,e,"imgBluButton2x").setOrigin(0,.5).setScale(1,.8).setInteractive().on("pointerdown",((e,i,s,a)=>{t.uiController.openCaseOpenPage()})),t.add.image(147,e,"imgIconChest").setOrigin(.5,.5).setScale(.6,.6);t.add.image(360,e,"imgBluButton2x").setOrigin(.5,.5).setScale(1,.8).setInteractive().on("pointerdown",((e,i,s,a)=>{t.uiController.openWithdrawPage()})),t.add.image(367,1388,"imgCrypto").setOrigin(.5,.5).setScale(.23,.23),t.add.image(346,1402,"imgCrypto").setOrigin(.5,.5).setScale(.23,.23),t.add.image(374,1412,"imgCrypto").setOrigin(.5,.5).setScale(.23,.23),t.add.image(700,e,"imgBluButton2x").setOrigin(1,.5).setScale(1,.8).setInteractive().on("pointerdown",((e,i,s,a)=>{t.uiController.openPlanet(),f.ResetState()})),t.add.image(573,e,"imgIconSettings").setOrigin(.5,.5).setScale(.75,.75);let i=1295;t.add.image(360,i,"imgPurpleButton4x").setOrigin(.5,.5).setScale(1,.9).setInteractive().on("pointerdown",((e,i,s,a)=>{t.uiController.openSpaceportPage()})),t.add.text(360,i,w("button_spaceport"),{fontFamily:"F_Toxigenesis",fontStyle:"Bold",fontSize:30,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),t.add.image(175,i,"imgIconGalaxy").setOrigin(.5,.5).setScale(.7),t.add.image(545,i,"imgIconGalaxy").setOrigin(.5,.5).setScale(.7)}}class q{constructor(){this.background,this.modalContainer,this.titleText,this.walletLabel,this.walletInputBg,this.walletInputText,this.amountLabel,this.amountInputBg,this.amountInputText,this.withdrawButton,this.withdrawButtonText,this.closeButton,this.closeButtonText,this.walletHtmlInput=null,this.amountHtmlInput=null,this.walletValue="",this.amountValue="",this.activeInput=null,this.isShowing=!1}create(t){this.createHtmlInputs(t),this.background=t.add.rectangle(0,0,h,c,0,.8).setOrigin(0).setInteractive().on("pointerdown",(()=>{this.closeKeyboard()})),this.modalContainer=t.add.rectangle(360,760,600,600,2894892,1).setRounded(16).setStrokeStyle(3,4868682).setInteractive().on("pointerdown",(()=>{this.closeKeyboard()})),this.titleText=t.add.text(360,510,"Withdraw TON",{fontFamily:"Inter",fontStyle:"Bold",fontSize:36,color:"#ffffff",stroke:"#000000",strokeThickness:2}).setOrigin(.5).setInteractive().on("pointerdown",(()=>{this.closeKeyboard()})),this.walletLabel=t.add.text(110,610,"TON Wallet Address:",{fontFamily:"Inter",fontSize:18,color:"#ffffff"}).setOrigin(0,.5).setInteractive().on("pointerdown",(()=>{this.closeKeyboard()})),this.walletInputBg=t.add.rectangle(360,660,500,50,1710618,1).setRounded(8).setStrokeStyle(2,4868682).setInteractive().on("pointerdown",(()=>{this.activateInput(t,"wallet")})),this.walletInputText=t.add.text(120,660,"Tap to enter wallet address",{fontFamily:"Inter",fontSize:14,color:"#888888"}).setOrigin(0,.5),this.amountLabel=t.add.text(110,740,"Amount (TON):",{fontFamily:"Inter",fontSize:18,color:"#ffffff"}).setOrigin(0,.5).setInteractive().on("pointerdown",(()=>{this.closeKeyboard()})),this.amountInputBg=t.add.rectangle(360,790,500,50,1710618,1).setRounded(8).setStrokeStyle(2,4868682).setInteractive().on("pointerdown",(()=>{this.activateInput(t,"amount")})),this.amountInputText=t.add.text(120,790,"Tap to enter amount",{fontFamily:"Inter",fontSize:14,color:"#888888"}).setOrigin(0,.5),this.withdrawButton=t.add.rectangle(360,890,250,60,2258659,1).setRounded(8).setStrokeStyle(3,0).setInteractive().on("pointerdown",(()=>{this.closeKeyboard(),this.handleWithdraw(t)})).on("pointerover",(()=>{this.withdrawButton.setFillStyle(3377140)})).on("pointerout",(()=>{this.withdrawButton.setFillStyle(2258659)})),this.withdrawButtonText=t.add.text(360,890,"WITHDRAW",{fontFamily:"Inter",fontStyle:"Bold",fontSize:24,color:"#ffffff",stroke:"#000000",strokeThickness:2}).setOrigin(.5),this.closeButton=t.add.rectangle(360,970,250,50,9180429,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",(()=>{this.closeKeyboard(),this.ShowEverything(!1)})).on("pointerover",(()=>{this.closeButton.setFillStyle(10492432)})).on("pointerout",(()=>{this.closeButton.setFillStyle(9180429)})),this.closeButtonText=t.add.text(360,970,"CLOSE",{fontFamily:"Inter",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),this.ShowEverything(!1)}createHtmlInputs(t){this.walletHtmlInput=document.createElement("input"),this.walletHtmlInput.type="text",this.walletHtmlInput.placeholder="Enter TON wallet address",this.walletHtmlInput.maxLength=48,this.walletHtmlInput.autocomplete="off",this.walletHtmlInput.autocorrect="off",this.walletHtmlInput.autocapitalize="off",this.walletHtmlInput.spellcheck=!1,this.walletHtmlInput.style.cssText="\n\t\t\tposition: absolute;\n\t\t\ttop: -9999px;\n\t\t\tleft: -9999px;\n\t\t\twidth: 1px;\n\t\t\theight: 1px;\n\t\t\topacity: 0.01;\n\t\t\tpointer-events: none;\n\t\t\tfont-size: 16px;\n\t\t\tborder: none;\n\t\t\toutline: none;\n\t\t",this.amountHtmlInput=document.createElement("input"),this.amountHtmlInput.type="number",this.amountHtmlInput.inputMode="decimal",this.amountHtmlInput.placeholder="Enter amount",this.amountHtmlInput.step="0.01",this.amountHtmlInput.min="0",this.amountHtmlInput.autocomplete="off",this.amountHtmlInput.style.cssText="\n\t\t\tposition: absolute;\n\t\t\ttop: -9999px;\n\t\t\tleft: -9999px;\n\t\t\twidth: 1px;\n\t\t\theight: 1px;\n\t\t\topacity: 0.01;\n\t\t\tpointer-events: none;\n\t\t\tfont-size: 16px;\n\t\t\tborder: none;\n\t\t\toutline: none;\n\t\t",document.body.appendChild(this.walletHtmlInput),document.body.appendChild(this.amountHtmlInput),this.walletHtmlInput.addEventListener("input",(t=>{if(this.walletValue=t.target.value,this.walletValue){const t=this.walletValue.length>40?this.walletValue.substring(0,20)+"..."+this.walletValue.substring(this.walletValue.length-15):this.walletValue;this.walletInputText.setText(t),this.walletInputText.setStyle({fontSize:16,color:"#ffffff"})}else this.walletInputText.setText("Tap to enter wallet address"),this.walletInputText.setStyle({fontSize:14,color:"#888888"})})),this.amountHtmlInput.addEventListener("input",(t=>{this.amountValue=t.target.value,this.amountValue?(this.amountInputText.setText(this.amountValue),this.amountInputText.setStyle({fontSize:16,color:"#ffffff"})):(this.amountInputText.setText("Tap to enter amount"),this.amountInputText.setStyle({fontSize:14,color:"#888888"}))})),this.walletHtmlInput.addEventListener("blur",(()=>{setTimeout((()=>{"wallet"===this.activeInput&&(this.walletInputBg.setStrokeStyle(2,4868682),this.activeInput=null)}),200)})),this.amountHtmlInput.addEventListener("blur",(()=>{setTimeout((()=>{"amount"===this.activeInput&&(this.amountInputBg.setStrokeStyle(2,4868682),this.activeInput=null)}),200)}))}activateInput(t,e){this.closeKeyboard(),this.walletInputBg.setStrokeStyle(2,4868682),this.amountInputBg.setStrokeStyle(2,4868682),this.activeInput=e,"wallet"===e?(this.walletInputBg.setStrokeStyle(2,2258659),this.walletHtmlInput.value=this.walletValue,setTimeout((()=>{this.walletHtmlInput.focus()}),100)):"amount"===e&&(this.amountInputBg.setStrokeStyle(2,2258659),this.amountHtmlInput.value=this.amountValue,setTimeout((()=>{this.amountHtmlInput.focus()}),100))}closeKeyboard(){this.walletHtmlInput.blur(),this.amountHtmlInput.blur(),this.walletInputBg.setStrokeStyle(2,4868682),this.amountInputBg.setStrokeStyle(2,4868682),this.activeInput=null}handleWithdraw(t){if(!this.walletValue||!this.amountValue)return console.log("Please fill in all fields"),void alert(",   ");const e=parseFloat(this.amountValue);if(isNaN(e)||e<=0)return console.log("Please enter a valid amount"),void alert(",   ");console.log("Withdraw request:"),console.log("Wallet:",this.walletValue),console.log("Amount:",e,"TON"),async function(t,e){return d("/mini-game/ton-withdraw",{method:"POST",body:JSON.stringify({wallet_address:t,ton_amount:e})})}(this.walletValue,e).then((t=>{console.log("Withdrawal result:",t),t&&t.success?alert("    !"):alert("     ")})).catch((t=>{console.error("Withdrawal error:",t),alert("    ")})),this.resetForm(),this.ShowEverything(!1)}resetForm(){this.walletValue="",this.amountValue="",this.walletInputText.setText("Tap to enter wallet address"),this.walletInputText.setStyle({fontSize:14,color:"#888888"}),this.amountInputText.setText("Tap to enter amount"),this.amountInputText.setStyle({fontSize:14,color:"#888888"}),this.walletHtmlInput.value="",this.amountHtmlInput.value="",this.activeInput=null,this.walletInputBg.setStrokeStyle(2,4868682),this.amountInputBg.setStrokeStyle(2,4868682)}ShowEverything(t){this.background.setVisible(t),this.modalContainer.setVisible(t),this.titleText.setVisible(t),this.walletLabel.setVisible(t),this.walletInputBg.setVisible(t),this.walletInputText.setVisible(t),this.amountLabel.setVisible(t),this.amountInputBg.setVisible(t),this.amountInputText.setVisible(t),this.withdrawButton.setVisible(t),this.withdrawButtonText.setVisible(t),this.closeButton.setVisible(t),this.closeButtonText.setVisible(t),t||this.closeKeyboard(),this.isShowing=t}destroy(){this.walletHtmlInput&&this.walletHtmlInput.parentNode&&this.walletHtmlInput.parentNode.removeChild(this.walletHtmlInput),this.amountHtmlInput&&this.amountHtmlInput.parentNode&&this.amountHtmlInput.parentNode.removeChild(this.amountHtmlInput)}}class X{constructor(){this.imgBackground,this.textChoose,this.isShowing}ShowEverything(t){this.isShowing=t,this.imgBackground.setVisible(t)}create(t){this.imgBackground=t.add.rectangle(0,0,h,c,0,60).setOrigin(0).setInteractive().on("pointerdown",((t,e,i,s)=>{})).setDepth(100),this.ShowEverything(!1)}}class _{constructor(t){this.scene=t,this.maskotFront,this.maskotPlatform,this.tweenMascotIdle,this.tweenPlatformIdle,this.tweenMascotFly,this.tweenPlatformFall}setupFuelPurchaseListeners(){window.addEventListener("fuelPurchaseSuccess",(t=>{this.scene.fuelBuyPage.ShowEverything(!1),console.log("Fuel purchased successfully:",t.detail),this.scene.loadingPage.ShowEverything(!1),f.SetFuel(f.GetFuel()+f.tryingPurchaseFuel),this.scene.topIndicators.refreshValues()})),window.addEventListener("fuelPurchaseError",(()=>{console.log("Fuel purchase failed"),this.scene.loadingPage.ShowEverything(!1)})),window.addEventListener("withdrawSuccess",(t=>{console.log("Withdraw success"),this.scene.loadingPage.ShowEverything(!1),f.SetCrypto(f.GetCrypto()-t.amount),this.scene.topIndicators.refreshValues()})),window.addEventListener("withdrawError",(()=>{console.log("Withdraw error"),this.scene.loadingPage.ShowEverything(!1)}))}pushPlanetReturnEvent(){window.dispatchEvent(new CustomEvent("returnToPlanet",{})),console.log("Pushed return to planet event")}pushWithdrawEvent(){this.scene.loadingPage.ShowEverything(!0),window.dispatchEvent(new CustomEvent("openWithdrawModal",{detail:{amount:f.GetCrypto()}})),console.log("Pushed withdraw event")}pushPurchaseFuelEvent(t,e,i){this.scene.loadingPage.ShowEverything(!0),f.tryingPurchaseFuel=t,window.dispatchEvent(new CustomEvent("buyFuel",{detail:{amount:t,price:e,fuel_offer_id:i}})),console.log("Pushed purchase event")}launchGame(t,e,i=0,s=0){let a=f.GetFuel();a<e||(f.SetFuel(a-e),f.coinsOnLevel=i,f.cryptoOnLevel=s,f.levelID=t,console.log(`Launched level ${t} for cost of ${e}`),this.hideAllPages(),this.toggleMaskot(!0),this.tweenMascotIdle.complete(),this.tweenPlatformIdle.complete(),this.maskotFront.play("maogaJump"),setTimeout((()=>{this.scene.topIndicators.refreshValues(),this.tweenMascotFly.resume(),this.tweenPlatformFall.resume()}),500),setTimeout((()=>{this.scene.startGame()}),1e3))}setupUIAdditionals(t){this.setupFuelPurchaseListeners(),this.setupMaskot(t)}setupMaskot(t){this.maskotPlatform=t.add.image(360,910,"imgPlatform").setScale(1.6,1.6),this.maskotFront=t.add.sprite(360,770,"sheetMaoga").setScale(2,2),this.maskotFront.play("maogaIdle");let e="Sine.InOut";this.tweenMascotIdle=t.tweens.add({targets:this.maskotFront,y:610,ease:e,duration:2500,repeat:-1,yoyo:!0}),this.tweenPlatformIdle=t.tweens.add({targets:this.maskotPlatform,y:750,ease:e,duration:2500,repeat:-1,yoyo:!0}),this.tweenMascotFly=t.tweens.add({targets:this.maskotFront,y:-500,ease:"Circular.In",duration:800,repeat:0,yoyo:!1}),this.tweenPlatformFall=t.tweens.add({targets:this.maskotPlatform,y:1720,ease:"Circular.Out",duration:800,repeat:0,yoyo:!1}),this.tweenMascotFly.pause(),this.tweenPlatformFall.pause()}getAllPages(){return[this.scene.galaxyPage,this.scene.fuelBuyPage,this.scene.caseOpenPage,this.scene.withdrawModal]}hideAllPages(){[this.scene.galaxyPage,this.scene.fuelBuyPage,this.scene.caseOpenPage,this.scene.withdrawModal].forEach((t=>{t.ShowEverything(!1)}))}toggleMaskot(t){this.maskotFront.setVisible(t),this.maskotPlatform.setVisible(t)}togglePage(t){t.isShowing?(this.hideAllPages(),this.toggleMaskot(!0)):(this.hideAllPages(),this.toggleMaskot(!1),t.ShowEverything(!0))}openFuelPage(){this.togglePage(this.scene.fuelBuyPage)}openSpaceportPage(){this.togglePage(this.scene.galaxyPage)}openCaseOpenPage(){this.togglePage(this.scene.caseOpenPage)}openWithdrawPage(){this.hideAllPages(),this.toggleMaskot(!0),this.pushWithdrawEvent()}openPlanet(){this.hideAllPages(),this.toggleMaskot(!0),this.pushPlanetReturnEvent()}}class $ extends a.Scene{constructor(){super("MainMenu"),this.galaxyPage=new z,this.fuelBuyPage=new Y,this.caseOpenPage=new Z,this.withdrawModal=new q,this.backgroundControll=new P,this.topIndicators=new G,this.bottomButtons=new K,this.loadingPage=new X,this.uiController=new _(this)}init(){}preload(){f.LoadTextures(this)}create(){this.setupSpaceBackground(),this.uiController.setupUIAdditionals(this),this.galaxyPage.createGalaxyPage(this),this.fuelBuyPage.createFuelBuyPage(this),this.caseOpenPage.createCaseOpenPage(this),this.withdrawModal.create(this),this.topIndicators.createTopIndicators(this),this.bottomButtons.createBottomButtons(this),this.loadingPage.create(this),this.cameras.main.fadeIn(500,0,0,0)}update(){this.backgroundControll.refreshUpdate()}setupSpaceBackground(){this.backgroundControll.backLayers.push(new T(this.add.image(360,760,"imgSpaceBackground"),this.add.image(360,760,"imgSpaceBackground"),.3,2)),this.backgroundControll.backLayers.push(new T(this.add.image(360,760,"imgSpaceStars"),this.add.image(360,760,"imgSpaceStars"),.4,2))}startGame(){this.cameras.main.fadeOut(300,0,0,0),setTimeout((()=>{this.scene.start("Game")}),400)}}const tt=""+new URL("Mascot_Front-8NV0bnLL.png",import.meta.url).href,et=""+new URL("Mascot_Back-ypER-8VA.png",import.meta.url).href,it=""+new URL("Platform-Ce6Q4GCZ.png",import.meta.url).href,st=""+new URL("Coin-cof9Hjxr.png",import.meta.url).href,at=""+new URL("Chest-P1rk_0rg.png",import.meta.url).href,ot=""+new URL("Fuel-CFZRCjEe.png",import.meta.url).href,nt=""+new URL("Plus-Bvj8Bk56.png",import.meta.url).href,rt=""+new URL("TON_coin-BUc_nGTQ.png",import.meta.url).href,lt=""+new URL("ChestHiRes-FW7Pv8x1.png",import.meta.url).href,ht=""+new URL("icon_galaxy2-CMLpmiL-.png",import.meta.url).href,ct=""+new URL("Chest1-mwLTP8Ss.png",import.meta.url).href,dt=""+new URL("BlueButton_double-CagsColJ.png",import.meta.url).href,ut=""+new URL("PurpleButton_4x-DNQrPZpJ.png",import.meta.url).href,gt=""+new URL("PurpleFuelButton-C8LBakP1.png",import.meta.url).href,mt=""+new URL("PurpleFuelButton2x-CkHBgO3Y.png",import.meta.url).href,pt=""+new URL("milky-way-1-CaYwDbEG.png",import.meta.url).href,At=""+new URL("BlueStars-BcB9ubuG.png",import.meta.url).href,yt=""+new URL("spritesheet_CircleExplosion-2Wqz6cks.png",import.meta.url).href,ft=""+new URL("spritesheet_maoga_jump-BeP_4Q_O.png",import.meta.url).href,wt=""+new URL("sheet_maoga_fly-i0r3uy-x.png",import.meta.url).href,St=""+new URL("space trash 1-Qgh7Q7uk.png",import.meta.url).href,It=""+new URL("space trash 2-ohVhzWXB.png",import.meta.url).href,bt=""+new URL("space trash 3-iiLpBpeW.png",import.meta.url).href,Ct=""+new URL("space trash 4-DYlREM9u.png",import.meta.url).href,kt=""+new URL("font_toxigenesis_bd-rgJ8kn64.otf",import.meta.url).href,xt=""+new URL("font_Inter-c8O0ljhh.ttf",import.meta.url).href,Bt=""+new URL("prize_pickup-C-a9mdjj.m4a",import.meta.url).href,vt=""+new URL("death-dEknJZlh.m4a",import.meta.url).href;class Pt extends a.Scene{constructor(){super("Preloader"),this.progressStages=60,this.currProgress=0}init(){this.add.image(360,760,"imgLoading").setScale(1.3,1.3),this.add.rectangle(360,1420,468,32).setStrokeStyle(3,16777215).setRounded(20),this.add.text(360,1380,"loading...",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),this.add.rectangle(145,1420,20,14,16753951).setRounded(5);const t=this.add.rectangle(150,1420,4,14,16753951);this.load.on("progress",(e=>{let i=this.currProgress/this.progressStages;this.currProgress++,t.width=4+440*i}))}async preload(){var t;console.log("Version 0.1"),this.load.emit("progress"),this.load.image("maskotFront",tt),this.load.image("maskotBack",et),this.load.image("imgPlatform",it),this.load.emit("progress"),this.load.image("imgCoin",st),this.load.image("imgChest",at),this.load.image("imgFuel",ot),this.load.image("imgPlus",nt),this.load.image("imgCrypto",rt),this.load.image("imgChestHiRes",lt),this.load.image("imgIconGalaxy",ht),this.load.image("imgIconSettings","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJ0lEQVR4nO3by07jMBQG4P+cVA6VitQNy3m4eQp4hHlOUHfDAlCARqrPLDouJZPEceNbOv5XKE18+RofIJFJRFAyLavUA+jm4enj/NujXz/WycbSDd0/vqcew3n6bnOKPoqBcOoBnGWoHmRTJ3LBsoFkAZYD1lSI5GCpsVwBkoKlxLp04snAUmHNnXASsBRYviYaHSw2lu8JRgWLiRVqYtHAYmGFnlAUsBhYsb754P2ExopdhIP2FxJrzsDn/PMcDCwUlg+o7MBCYPm8o7IC840VYullA+YTK2SNygLMF1aMYp4czAdWCKihNpOCzcUKCZUd2BysGHdUVmCXYsVcetmAXYIVE8r2eVQwV6wUULbzooG5YKWEsp0fBWwqVg5QtuuCg03BygnKdn1QMBtWjlC2doKBjWHlDGVrLwjYENYSoGztegfrw1oSlK19r2BdrCVC2frxBsZDHzgmNZStPy9g3D1wQXKBsvU7G4xHGp+S3KBs/c8Cm/OIJlcoE+9g/Pdi1wZyhzLxBUYAiLsHJl7Yl9ygTOaAfTPpW4ZjaEuDMnEF6zUYq1ndC5YKZTIFbHR10cvLC+q6BgBorXFzcwMAeH5+Rl3XuL29hdYazIyHp4+pA8g53zB+vj9CKYW7uztsNhs0TQNmxnq9RtM0UEpBRPD5+TnteRYzY7/fdw8vEQrojHu9Pm53YbZT9J5BRDjfANU0DXa73WCHC8xp/NvtFnVdn+ZLNFz3e7G01qiqClprvL6+4u3t7bRUsXwoEwGOOKbUtG2Lw+EweMEKAEQEzAwiQtu2p9pltLfb7fHn31cDZSJERFVVQUTQtu1pOe73exARiAhaa4jIEcucwMwQEVRV9c/teIQbVl9qlFK9cxURrFZfOwyZGSulFJgZWmsAX2u2u2nzWjdxDs3LOJi/BJRS4KqqRtdpyVeZYhEZ/Q1QcoyIJN8VtqgULIek3lB+yfr/77bQAZc/hEtWYMsydEjBckjBckjBckjBckjBckjBckjBckjBckjBckjBckjBckjBckjBckjBckjBcsjKvAKz5VpfhWmtJ7+woWtFCJGyDB3yBz0IGZAgkxDgAAAAAElFTkSuQmCC"),this.load.image("imgIconChest",ct),this.load.image("imgCircle","data:image/png;base64,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"),this.load.emit("progress"),this.load.image("imgBluButton2x",dt),this.load.image("imgPurpleButton4x",ut),this.load.image("imgPurpleFuelButton",gt),this.load.image("imgPurpleFuelButton2x",mt),this.load.image("imgGalaxy",pt),this.load.emit("progress"),this.load.image("imgAsteroid","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAEZ0lEQVR4nO3doY4kVRQG4IGQIBA8AwRDQggKMBgEHkPCahDYRSwYBAYQjEWAZhMMHoHBAIpsSDBk9xkQK1DwAHVYTve5XX/37PfJSk3XTM+fm/vn1q26ugIAAAAAAAAAAAAAAODSPJH+BQL+2eEaj+P3epQn078AjzcBJEoAiRJAom7SZLlVLn797utT/x5Xr77zfvfUm/T9H8UISJQAEiWARAkgUZcwCV5aLv78+cfWeS+8/ubm2IefXm+OffDWK62frRxQViqX8L/7X0ZAogSQKAEkSgCJOreJ7KZwvPzc85uTvvni49aHdUvDxB5lpXJTVluMgEQJIFECSJQAEpWcoB5dON6789nm2Edvv9a6aLc0fPnJ7c2x7irKHoarLWdTTIyARAkgUQJIlAASdYrJaOv2qUnhSK2EVBP/cy8mSgg8ggASJYBECSBR08nopnCs3psxMVn1mOheI3W72DkVEyMgUQJIlAASJYBE7VJCJoVjsuei+3nVakvXZFWmW0xW3xp2TsXECEiUABIlgEQJIFGHTDKXrnqsLheV1YWjq7s/5fPvf9kcm9ySNtkrc+v6bnVYCeFmE0CiBJAoASTqvyaZJ1/hqCbg1YR5ckvVHoWjcu/B/c2xb2+/uzlWfQcTl1hMjIBECSBRAkiUABL11B4X6U62y/OaZaVSlYFqQ/zEs888Hfm8vx7+vTm2esWkKk63ru9WDx44upgYAYkSQKIEkCgBJKpdQrqrHt3CMZlsT1TX/en3PzbH3njpxdbnVT9bTd6/+uG31udVf+/k9q7JSsgBji4mRkCiBJAoASRKAIlq3441uZ1oUjh2usXoaN3C0S1T1d/R/Z67Pzs5rzK5bcsISJQAEiWARAkgUe0S0r2NqSoc3Ql4VTi6KzDdif/qVYDJvo5uOatWWyqTopgqJkZAogSQKAEkSgCJWl5CKtVku/vY2e5tTNVTtCYrEqtNytlk38ke16i+eyWEiyCARAkgUQJI1C4rIZUDJq4b3f0a1TVW30JWmRSd7ntHuk/+6paf1Xt0qocCXCkhnBsBJEoAiRJAokbvCamKyU6T2ZbVqzdd3b0tlW656O6V2UO3cFSMgEQJIFECSJQAErX8jendYrLHbVGpJ3DtURCqv6278rP6/6GEcLEEkCgBJEoAiZq+J2Qz0bz34P7SFZPKHo/tnVy32tuyek9ItVm9+3b5VOGoGAGJEkCiBJAoASTqFC8rjBSTyh6bsrvO6V0kXasLR8UISJQAEiWARAkgUbu8Mb2ru2F6stm6Om+yUbt6ZG13g3330btd57TC0WUEJEoAiRJAogSQqJNPMh+hesv2xmRzeWX1foju3ozJSxInL0Q8YGN/JAtGQKIEkCgBJEoAiUqWkK5WWamsfsHi5Lzufo1K97HCqdWMCSMgUQJIlAASJYBEnfUEdYGLKzCVc1/NmDACEiWARAkgUQJI1MVNWnd0dIE5gRv7fzICEiWARAkgUQIIAAAAAAAAAAAAl+9fnfSvG/gTZyMAAAAASUVORK5CYII="),this.load.image("imgIceChunk","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAAAACXBIWXMAAAAnAAAAJwEqCZFPAAAFu2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjMgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0xMS0yMFQyMDozNzozMiswMjowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNS0xMS0yMFQyMDo0Mjo0MyswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMTEtMjBUMjA6NDI6NDMrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE4NzA5NjBlLWJiNGUtZjk0MS05ZWRhLWEwZGJiMzljNTdiMCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozYmNhZGNkNC05NmIwLTZkNGUtOWNhZS1kZjVmMDA4Y2I4YTUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozYmNhZGNkNC05NmIwLTZkNGUtOWNhZS1kZjVmMDA4Y2I4YTUiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjNiY2FkY2Q0LTk2YjAtNmQ0ZS05Y2FlLWRmNWYwMDhjYjhhNSIgc3RFdnQ6d2hlbj0iMjAyNS0xMS0yMFQyMDozNzozMiswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjMgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphODcwOTYwZS1iYjRlLWY5NDEtOWVkYS1hMGRiYjM5YzU3YjAiIHN0RXZ0OndoZW49IjIwMjUtMTEtMjBUMjA6NDI6NDMrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS4zIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6JtJQlAAAHaUlEQVR42u2dW2xUVRSGOxToTFuGTmkpt3IHoRQVChgSkPoAWpuomBBEJAa8gL5oRB6IaIhCDCY8GKPBS0hMIIZoqGCwEmNEaCSAReTSljb0ntbaC706LVBG59W1TrIn58xhxvm+x5W9z23+7H3+WXuv4wmFQkkA94oRPAJAgIAAARAgIEAABAgIEAABAgIEQICAAAEQICBAAAQICBDACUbaPYDH44mbm81+7V2x+DFlSq75w/Knitid3r+N+zfv2OxJFGGZrjNlBASmYECAAAgQEg+P3U1JsWhCZmx7X72pp9/bImJ1Pf0iti13qnrc+cnJRuc/NNCnxr+t/lPEag8dMb6v9g/fiRsTgwkBpmAABAgIEAABAi44GmRs2S1uIGtjsdp2nN8vYpvnTxaxm8PDUbnWAq9M5b19uVbEgp0tav/W0jNx45ZxwcAUDIAAAQECWDEyni525ta3xJtt9osbRLvO6h61/4r7M1wzHKZ8s2iOiC36ol43MS+tFbH8nPEiVjI4pDqA2k/3xlwqjxEQECAgQAAECIlHTGZCtM1DYSaskS/hqeNHG5uQpAnyWl9YMte1hx1Q1hMWK9mRE4P6Rqf9J36Rxmp5nog9lJmt9t/35kciVndgZ1SMCZkQYAoGQICAAAEQIMQkcZWK0xxvJPgGva5cZ8etQTX+XEC600olFThzVIraf2HBPBH77vtq2fBx/bq0XYFH/zWsbjljRkBgCgZAgIAAAeLOhOTlSBNSXlEvYl3VVWr/HW8868p1vh7QU2FWKTZTE6Lh7ZMbmM7UZKpttbTjy/teFbHPQ/2urSdkBASmYECAAAgQMCGuo2006s7QX+I1wxEJWobiUX+mcX/T+oB2qb09pMbHjpbjxYKiJSJ24esytf9Xt2UtxA3LF4tYnzfFtd+fERCYggEBAiBAQIAAieWCNZauW6HGW5s7RKzrinTGqenm6/7218i0XaFFlfwkZQdbJG5ZKwNyob3DyO06gfasjmekMQICUzAAAgQECJBYJkRL+2hmw5GX8KBcj9fbHxQxq01FJy3iAov0nnbcyw1dIrZyTpbav6ql3ej0hZvWqPHzJaeN+h/+YKca3zo0yvENTIyAwBQMCBAAAQImxHXGDA4Zt20+K7MWWtZj9fpC42P6030idrXtL9fu39Mhz9WS4zW+Vg2r7x1f9MtMTvuA9BAne7vU/pFsYArfGiMgMAUDIEBAgAAIEBLbBWvV71dt3yTalZ2tiOuHauWio5Fi1NYulluUANn6zGMi9vFnR+XzV76rHOapuRMYAYEpGAABAgIEiE0TopXbCJNetFK+MCvlNjorGo3PtWztwyLWc+uu2jZam31M0cpgHPxBltGovabf//biVUbnqQkOqPFfbzQY9W+7eEmNHx+ewQgITMEACBAQIEBsmhArgj3yH/pgo8wajMubanzMAeVff6vKBqeaGmPuB8ialm3ctqS+zqidttHKCu/ifBGblWNeWaKNERCYggEQICBAAAQICeWCtTV+I54oUtuq+TnFBfvG6nX4VhfkiZibO9hMsXLhxyuvG/VvOnNNjWsV8TUmZo1T40uzZcmP6h65A+7n0vP6cR8gFQdMwQAIEBAgQAyYkNt9cu2dVX27H4+csnWuY5dlKk37Bq72Yh1G2xQ0cUqW8fnt9rcyF6ZYrRP8LwsL5hkfM9OXan7/f9Q5PoIxAgJTMCBAAAQImBBHMC2mbYX2RZ8wu15ZJ2LnuuS57H5X+P+Klol5Pl9mlx4pWqb2t8qQMAICUzAAAgQECIAAIbFdcLTQHG9F2y0R623Q1wiOykiXwSnm548k7WaKb+p4GbNYD6ntKrSLttMuzZvq2m/KCAhMwYAAARAgYEIc4XppuXHb+4oKRMxq3ZxW98+qlp36wj/W7OV6kj9djbf09hv1j6QEiHZNWh3BMIHkZBH78qos6H7xp990E6VsKtLu1SqV2X2uUsYO7tU/yXVgDyMgMAUDIEBAgADumRC75K5coMZbOzodP5e20ag1Sf+ikVaZYY4vTcQ+KbtgfP6CvOnGbW8OD4vYvEnZxiZOizcp7fpqb6r9PVH4rRkBgSkYECAAAgQECBBfLrj74G5hjiZu3KWWAhyaPVnEai5JxxUI3HHtAcyeLWv5nS85rbY9ouzWW72+UMSsdvVp9f200hja57usiKTKvkZ/ZYMrbpcREJiCARAgIEAAx0yIRuvhPep7rGZOktPlZ6GCfebn0tJ2kdThu1JeZetey87K9XjaRqMw+TkynjXaa+v8dmsOmhpLRkBgCgZAgIAAAZzCEwqF7B3AY+99VTUmD86ydczMhdPVuFWGwhRtndy0JxcZ90/LkGsHB7oHjPs3HPvdqN2YmQE1PnzphrFhtIuprhgBgSkYECAAAgQECJBYLtjUGTvhju2irZ0bkZvj2vnvNrU5fsxopd1wwcAUDIAAAQECxJUJidScOE0wRV8m6Ru6c09/rGilzTAhwBQMgAABAQIgQMAFAzACAgIEQICAAAEQICBAAAQICBAAAULc8w825g1WgUYLmgAAAABJRU5ErkJggg=="),this.load.image("imgSpaceStars",At),this.load.emit("progress"),this.load.image("imgBackAsteroid_1","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAnlJREFUaIHtmK2OwkAQx6eXexTMJSeqCOYMoo9AcucRteAReLAV+LuER0DUYBpUBQmm79ITx5BhOt3vcoj9JQjSdnf+O58tQCQSiUQi7iRDLHra71r6fzybD7IPJdgG3HjO0GJeQiyiE7Fcb+F78am8x5dX3wU+3t/uDGyqEkaTKTRVeXdfcah9t1Li7W7qDWq8ZPjxfOnsd9rv2uV6CwAAm9Wi84xpSAYTohKBAtB7eZbCaDK9Xcdni0PtLMY7tDhUhOSBPEs7z6CojSCOClYRpJKc9ru2qUqtCEx4lXHcs9I6EkE8YlNauYi+/LARARCo/JrCRTRVCXmWQp6lN0EAbhXuoUJ08JLNS7uKpxEiFQGAv7wyaaZOyU57h2l+SN2fe4BSHOqOuK/tT+9e1h7pa4Aq+kKE5wzNjTxL7/7ryrBzaJmKUIUFX4Mazz2i288qtLhRuhJJ70cDaZmVjOMVi4pRhZZXH7lu0tL/GAKq05au94Ge0ZVkb49QQwFAnKGk/iE9Lxk7iEfoaXMjpGRUJSg32nfMt0r28WyejGfzRPIE7cwq+CHwdagH+nqLhFPVOp4vCU9yafyWMBEhCVCFFYBnsh/PlyTP0tZ01LZJ8OthGdviPf2ajuQAZnmgO/k+gr9YSe/sOgF43WZs53i/WOH4sVktjBqchI8AxGsB7Cu0a/d5BBPYNXR0OM9atDmikVSEaiAcAucxXgojqasD6D9IhMDZI6PJ9PajYGM0Lcmh8HpDbKqyk+C0MT5SjJMQ07dCFIk5NFRYAXh6RDpxDC0pR2w+JtjifUImHwaeuvwiKsOKQz142UWCnw5vkkPmRSQSiUT+nV++D3+aenAjtQAAAABJRU5ErkJggg=="),this.load.image("imgBackAsteroid_2","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAZ9JREFUaIHtly1uw0AQhZ+rHsWkUkFRZFJi0CNEanhAaXuDHiA0wLyVfIQAkxDLKCBSiO/ioo1Wq135Z994C+ZDIRnt8+y8NwsoiqIoiqIspquroaurgV33gV1wKj+f71QxSYT0bQOAKyaJkLwoAQDH04VWM2lHmCTtCJNkww4AH28vtFoZrdIEXNs1V2x3+I0+x2odkcgOm1WE+ESwB15cyJgIlgWLzsjr89NdhG+wj6cLztcb5QyPjCIupgu+L28EMcMQELhaoaF2O8K0XoB8tUIixgabYb80IUtFmJTfbPdRZxF1rakW27dN9CZMG/bNdp/NPUxelLQ8SbprMUORKiQ0tLbVhmw3duDpHXFXdHNwN0ds/pVr2XR1NfjCkJXiPsRmxH7Onq+3TFIEECGkq6sh5FImE/KipCd4iEVfyd2l3DvuC8fYwBtjdvHQWj7lHS4pJnpG5mSB5CtxthD7q9oivr4Pk/4vJYbqWq4YI7Rvm/tvqeu1uKibFYD/8WS7FiP4QkQV9tmvvYJIZ4dN1Pbrbq/MN7iiKIqirMkftMfMVyxfdyAAAAAASUVORK5CYII="),this.load.image("imgBackAsteroid_3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAXFJREFUaIHtmKFuwzAQhi/THqVk0kBRVTJS0EeYtPCC0uYN8gCmBeGLlEcoCCmJggoqleRdPDBd5GW2avtsN5vuQ5Wr2Pf7/lzOBmAYhmEYhgEAgL6p5KNjQJ58H3x7fZEAAJ+Hj1mI8Ray3y5DxkHGW8i/om8qiRZ7NOSMzM1iDMMwf4Ms5uSmXmz1vgu+LmlCXZ+VizoDuN9QhhYTXAjAtxj8b7HeWM9HERel18K2xUVEUQrQtTt9U0mb48KzU4QT1J0/ni7juE/bgs+cr7dxzOW8Q85ILuosF3V2vt5INtVlD61mY7mg1lLFmGxVlOLX2NC1MHTtj6witu8NyVo69tul1bsxdO34WyfAlSjfEfS2GqyJqQhfiwbPiMpivQm+8yaiCnERQS0WSTJyPF3Igd4jygdxWmliiwDgWxQ7Ut5EklKuBlqUIomFTHgtrNtprFDYxqfGedHU5wxbgpTfVCU2Cn1TybncxDMMwzAMlS+jPZdSohRO8AAAAABJRU5ErkJggg=="),this.load.image("imgBackAsteroid_4","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAmRJREFUaIHtmL1uwjAQxy9VH4UlUgYmxJKFgUdACjtDVndn6A5rB/Yg8QgdsrBEnTogseRd3IEaXY0/LvYBHfxbIqTY+H/fMUAikUgk/jNfh5189hlcvHBu9kyxGddGWMRksWLblwqrRwAA+q6FRlQP9wyLEOWNvmsBAODj85tj20GwCOm79kbEo71yl1gui1zW8zEAXIRt1sL4HmcukTfCyaysv9zuret1j4ymM+N7XGJIm5hEAFysfTydyWJMuIwxhOAcGZrQtvcbUclGVDK2BwUJCalK9XzsXNd3bVRDHSQEhxUAOMMK4DZsVAGg7j8EkpDJYpXF/Ikt0Tl5jVlcFrl0eUWFytv7FgD8HolJfHJojaazYMsqAWq9/uQguI/gxDV5ZUjiqv18OeciuPzW8/HV0mWRS9wzQqpPPR9HjTWDG6JCb4zqMDqU8MEeDvUKySMqWX2ow+Cw81W7mGqIIQnRhz486epNziXG9uQgKEdc4XI8nbPj6ZzpYYYPP5rOjKEZQ5AQiiVtPcFUen39hUJQjuiHsB1kud1n+F3dk+o3h0f+dHbbBcJvJTGWxo/Pb6dFJ4tVVhb5Za32kcWZI1chMZOny6Jfh510fcv7GisVY2hRSiY+APbI1foehk7SPm4WN6KSeqKavhBtXtDnKtO6zVqwjCWYG4/oIkwW9onwwS0CgDCiNKKS6uCbtfhTBLBILMI3ljxFiA/q1Q+m71q2SwdF9AWdfnDqXMZN1BciwKVPqGJQgzusOPuGTrQQjE3EI+6EWeMUNz+F3m+4c+PuNKKSZZFLaoNMJBKJROKZ/ACbeHa2vebWXAAAAABJRU5ErkJggg=="),this.load.image("imgBackAsteroid_5","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAY1JREFUaIHtmCFuwzAUhv9OO0pJpYKgqaSkwEeYtPKC0B5gN1hpQPgq5QgBIyVTUEClkt3FQy+KHDup7ed26t5HYzv+/f+xXwwIgiAIgiAIwl+kqUrdVKXmHPOJc7B/B7cbD8WMe8D+av98fwEAtocj+3tMol/gE5OX110yQVEDr5cLDQAf73tnG3KFSOXOc2jHz/2bBoCibp1tSAS1yVXW9ZuvNgD4XAoWYmKuPDAUWdQtcpV17eerTRfNWEFsQogxh+h5rrLOEWK9XOjT+RIsJkgIxcNkSgSAgQhyMlcZTudLyHQAMJzsFJV74+WI7YzwwSW6qFvExAqI+EbMeIzFqi/A1i9WBOAhxHXwXSvC/LgJDhEAU/XrisyYiJBojsGy/ZqO0CrnKhu42BfAecpHOTIVq+3hOLNttcB1W7UPXiti7lq2ybgy31SlTlkNB0VrygkbKStfwDNaNBnuWHAQvUpUygN8W6lwT7iuhuQ6iBO5HhIEQRDGuMU5kbzI64tIWcrfrERJ/T/yMPwCkGi7JPGr5KkAAAAASUVORK5CYII="),this.load.image("imgBackIce_1","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAWNJREFUaIHtmDFOw0AQRT+Iggu4To1EgxRxg1QpqdxS5QDpoITOB6CiTUVJxQ0sS24iUVPnAumWAtYM3l0D2RlbSP81sWNrPH93/kwcgBBCCCGEEEIIITk0deuaunXacY81g/2UoIUAdfxKzx9fJxGjuiOe2WKZTHZ+eXFk8UwVIXKVH873AIbFaCGfe6IZDACubm4BAEVZAYDzx831mclOeLKFxPgU0X0CX4I1S0vGUvfI0/3d4HUrs2evTj+x1fa0O/Z+iaFtepPSAkIRvxV4KKpCZLLyfLdZd98VZRXcp4HJHAE+ROw2628iAATnWpgJsUo4hVppxcoohm/JskloGF+1c/hp/vbyHMSdLZauKKtAqGzXOYJMp62kqVvXm/odsosdKsbMIymGROQwihDvh/7UH5o1f8VsIKZI7UDubBllR/p1b/FOMprZY8R+QP4bs1sxqRCr197JsPqLiBBCiDnvR1uNSvJRBfkAAAAASUVORK5CYII="),this.load.image("imgBackIce_2","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAkdJREFUaIHtWSuOAkEQfWxWzAXQozfBkEy4AQqJwq6aA+BA7joOgMKiVqK4ASHBkKDRXADXK0gtNU330J8a2JB+CmaYnnpd9aq6CiAhISHhEdhudmq72anYdd4kjPkPaD3qRcXioABg3jnf3ut1o+14GBFb+EiQAB4UWjYS5T6z/t5XN0/TSLnPcFqOxdZ7ChFpEsATNKKTOK5XIja8SywCVHVgEvBwMkV7NJN63Q2iQqtYHFTeH6i8P1BcuCah0s5LhxQhmEixOCiqCe3RrFIfbNnotBxXvCIVVkCgRu6lU9p13VAqiqflWJQEEKAREwnuAZfQkSYBeIaWL4m8P4g+DLoiSuw2LXBQMqCwAq4hJgkvF9sMuBdOdWl3+/khEmbei+T9gWqPZs5plEhQVtO9yLNdzAEy6EHX2NfTMqHcZ8brQDiZ4B24R4Z77ef76+86kRhOpjf3OHwJBR9RKIWaCHFNXD6bw4rfI2LAhdx2s1M+ZMTyOSfEicw75woBXSvcO/pzgLtnxAsTEbJlKpM2TAdK3yQg3o/UVW2bwG06AdxqFdBQY2UiYyMB1KdkV4j1IzruGVO3075nN6AhIq6DA93ImMYriIhuKBdjzNRQ71d8mrBoj5T7zNv4JoYPIqFlqgmAPRvVkdC94oooIrpg6fvVkKrgTYWPd5O8qPp2kUFEil63ReGkv9B01OeEdRL8Wfp8XK+8bWpkrlXXt3AiUr0I0OCAjg/kgGYGDhyNjUwpJVNhbJIE8EJ/9CQkJCQkJCS8En4Bxrc/s76nWZUAAAAASUVORK5CYII="),this.load.image("imgBackIce_3","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAftJREFUaIHtmKGOwkAQhn8uJ3iB6tOXYEga3gCFRNWe4gFwIMH1AapqUUgUb3AhOdMEjeYF6vbUwqTddmfZIamYTxW62+zM/DOzu4CiKIqiKIqieBhxB15+/wwApLMpe05z7qvzOXxwFkEXQp85fM0Xpu+3FF5DKKtqjFU1Zi/ma74wSZY/fi83WyRZjrS8ihvzyR24qsYAgPthzRr/jFwN4GmEJS2v5vLzLSYzVkReN+LJcb9rjZOUGTsiXPpyqJjUj2frHCmCcqSPtLya0EIgSVBEkix/yMvK4nY+jewz9XIxqVtep/9xZcqFFREqCZqwQLsyWVzSkZYT5eUccS2+ifU6Z2wsYslOpUIlSHHJTQq2IcWkxnKzdb5zeb4ZBStP+x3y3tzOp+h+EtwQ6QK7vO6jK2IxiJXfGCQaozci6Ww6ov0h1pOratzKJwA47ncmZmcsluy+yuTqH3RObBEIklbXYn0LslHoMkKC6IgkWd5K8KYxPjneD2vEVi6vITY/XD0gpCl2zZPayr8UEeI9AwBLtLfpfVGw7yT6h4X1IVsekyxveTAtr6a5PedUNkkjgIDLh74THT26Nru8K8F9OWE3oiGye8uNRgzN3XQxqVk3L+InxBia5/wQBhERzsnSF5VB7LV8cKQ1iIgA7qi861ZSURRFUZSh8w+mYvr/KRj5+QAAAABJRU5ErkJggg=="),this.load.image("imgBackIce_4","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAnFJREFUaIHtmK2OwkAQx4fLCV6guvoSzCXk3qAKicKe6gPgQN45HgCFrTqJ4g0uJBgSNJoXwPUEmd4w7MfMdgsh2Z9sd7fz3/naLUAikUgknp3t765+1Ld7MRbhAoYf7+J1TeI185EX7QSfIeW+HzyXPtd6t7UQE3kxchrhMrTc91WbgbyqZzCDqAGa8RQ691RNL88mC5UtwTmCRpkEoDHHzbrHxyMm4zl0vo9WHjFhMsrmiVM1vTEWw1IjAqCFkPFsDhlxv0kAGlXu+1fvf76/rOseN+ueL8dMBCc77tipmjZGZpPFlTi+q/ieC+O4hNqI0kcAAIarQ7OLPGSGq0O9HJybsVwIjm3Tj6LlyPbzzfnRct8HKobChTZr/u5qqZhO+ogJbmgmKK+afnI3IV3TqRDs4NwbpjDiu6/t7tGSneI7J5mqlinUTH3GRlSP5MVIfdhDuDCNCIBIVctm/Hg2B4CwvpBNFnDcrMXjg4WYjMe4pjlwCRlz2aVIqpiLoBxBEbzG06YIcJvU/KBIjbcVAF9/QqIne16MasnuUiG2Rgkg7+6iQdqjg1SMSwDAvwclXol+jAe4nJ2yyaIR7wqxWIiFaD/u221ckx8mOa5TMkXtkVM1hbwY1dqLD+Lr4Nxw6XfUQjD2MXSWg7MoIW1XW1wvVAAiHkwT2BY249nc2vx8lykk1NPiSdgjbPV+OTjfdHKJp0Lv6JzWVQtDBkVcrrKyZAdoLwBRHRptZZTe2fm7eyESYruKupAeLWIhEuISQRNYWvO7IPoN8VFiVL//JZ03VvJqUX+U/7+iPEoEQOAxfrg61KYfbIlEIpFIPCt/hmRveHuAqVMAAAAASUVORK5CYII="),this.load.image("imgBackIce_5","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAZVJREFUaIHtl6FuwzAQhq/TQF6geLhSyKRqbzA0GFRalAcwa+HG+gBBo0GDQ3uDqlJJpOJhv0BYC7rrLq7TXu1zO2n3oShO7Pt9958TAEVRFEVRFEVRFEW5Cqvlertarrep1xmknNwVMH56TLZesoldEWWT/Y5NR+Lr3ktPCHAsglLlLcDPuGSG7qQmQlBEMZt37ld5uxfheVYCsR0JCapsMrEyE8lI6M7a2sDD84tIVqJ3I1QElt5wsujOF5ihJGbnQkUc/EM25pJmIG52Lm4mfFyS7ZsIoWfKObhiruKRvsBtbfzlRd7jeiZKiE8EBl3l7eHa1ubkPH1lZmsD31+frBiDzX4uE1wRPkLeEe1abglxAnKzge9wM4EEmd09xIrZ/KYiACIyUjYZ2NrAx9vr0RgGNJwsOtccQkQARJh9/L7p9YjbjRC3K1FwY0KFhJt9OhpQMTTIwvP8KRESRB2I2OPdIH3llpokByKWCYJl1pcVbBQxn/Qi/wJUjCsCYX1b/RUhVATHtNRjKf7jFUVRFOXfsQMgwcioFyQk3QAAAABJRU5ErkJggg=="),this.load.emit("progress"),this.load.image("spaceTrash_1",St),this.load.image("spaceTrash_2",It),this.load.image("spaceTrash_3",bt),this.load.image("spaceTrash_4",Ct),this.load.font("F_Toxigenesis",kt),this.load.font("F_Inter",xt),this.load.spritesheet("sheetCircleExp",yt,{frameWidth:128,frameHeight:128}),this.load.spritesheet("sheetThrust","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGiGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjMgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNS0xMC0yNlQyMDoyMDoyNCswMjowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjUtMTAtMjZUMjE6MTY6MDMrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjUtMTAtMjZUMjE6MTY6MDMrMDI6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmI3ZmE4NDQ3LTU0NDktMGM0ZS1hMTZkLTRmMDc2YmJkZTI3YSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDphODkwN2IyZC1mMDBkLTZmNDYtOGFkMS1mNjRhNjcyODVhZmYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphODkwN2IyZC1mMDBkLTZmNDYtOGFkMS1mNjRhNjcyODVhZmYiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE4OTA3YjJkLWYwMGQtNmY0Ni04YWQxLWY2NGE2NzI4NWFmZiIgc3RFdnQ6d2hlbj0iMjAyNS0xMC0yNlQyMDoyMDoyNCswMjowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjMgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpmZGFhNTFkZS1hZDlmLTAwNGQtOWU2Ni03MTlhM2M4NjdlNGEiIHN0RXZ0OndoZW49IjIwMjUtMTAtMjZUMjE6MTU6MTcrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS4zIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjdmYTg0NDctNTQ0OS0wYzRlLWExNmQtNGYwNzZiYmRlMjdhIiBzdEV2dDp3aGVuPSIyMDI1LTEwLTI2VDIxOjE2OjAzKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjUuMyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+TPVcbgAAAeZJREFUeNrtWtttwzAM5HKdpqtkoc7SJbrBFUlsVabJRC3KowLx42A5CSCTPB0fjgCQwroY+tHXRa7AdtX33uf/DeDjDf11W0fuKYZt/f5CxCM/t3UkAZ4FOdohN8fj8/1+PZMh+hm0w/HkIEQ+g2czGAoAcuDvhnWBb+vtqpQAwY7/y/chCrjb3KtgtAJgQJJCnNACbhCBJMt4YCtYqWe3WxOirYMIMJR/KCqgoYhAlH+rBgEr/Z3ud1IQagAMnopYRygSkGqQXorFkuNQux3bD0pI7AIkofg5O4MUfH0KdUcQrUBuDbShPQ8hBSCJEK4MExTIld1GgJ8gSFQNZKbBLv8z20Ah1wQZNYd/Cp3TSCpCLdKB2QZmtoSZxagtv9xUZBGBPghCUh/8m0KUW4TGn/5Rm1MVgH36s/Y/5OJtTZsF6FG4fj6KAnTSY41GmeNQyQIp6OdhmDEOZxLg1u/qjQ1CsIKflXoyxuFuIdofwHAFsNof8tux1JM/QUdybAeV7zkpwBhBJgUByYFg7w1nDsJ/HawYuFLwZ1AA9zMuARL/GJG091SDKWt/5iQwOwAz1AJTBT+DAKsGYFr7s94FrBiAKe0PIUBh8X8FF4oAhSJAoQhQKAIUigCFIkChCFAoAhReH99lO5eZwWep+wAAAABJRU5ErkJggg==",{frameWidth:32,frameHeight:32}),this.load.spritesheet("sheetMaogaJump",ft,{frameWidth:128,frameHeight:128}),this.load.spritesheet("sheetMaogaFly",wt,{frameWidth:128,frameHeight:128}),this.load.emit("progress"),this.load.audio("soundPickupPrize",Bt),this.load.audio("soundDeath",vt),this.load.setPath("assets"),await f.GetProfileData(),"ru"===f.ProfileData.language?((t=new Map).set("button_spaceport",""),t.set("button_start",""),t.set("button_open",""),t.set("button_buy",""),t.set("button_get",""),t.set("chest_page_title"," "),t.set("fuel_page_title"," "),t.set("reward_title"," "),t.set("game_advice_1","   \n   "),t.set("game_advice_2","<    >\n  \n  "),t.set("game_start","  "),t.set("game_win_title","!"),t.set("game_win_desc",",           .       .        ."),t.set("game_lose_title"," "),t.set("game_lose_desc",",    ,    .       .        ."),t.set("game_reward",":"),t.set("game_button_continue","   \n "),f.Localization=t):function(){var t=new Map;t.set("button_spaceport","SPACEPORT"),t.set("button_start","Start"),t.set("button_open","OPEN"),t.set("button_buy","PURCHASE"),t.set("button_get","GET"),t.set("chest_page_title","FOUND CHESTS"),t.set("fuel_page_title","FUEL MARKET"),t.set("reward_title","Your reward"),t.set("game_advice_1","Avoid deadly obstacles\nthat are on your way"),t.set("game_advice_2","< Find and collect >\ntreasures by using \nyour space magnet"),t.set("game_start","TAP TO START"),t.set("game_win_title","YOU WIN!"),t.set("game_win_desc","Maoga, you have flown to the very end of this galaxy and collected many rewards. But this is not the end of your journey. There are even more galaxies and rewards waiting for you ahead."),t.set("game_lose_title","END OF THE JOURNEY"),t.set("game_lose_desc","Maoga, traveling through this galaxy, you have collected many awards. But this is not the end of your journey. There are even more galaxies and rewards waiting for you ahead."),t.set("game_reward","Reward:"),t.set("game_button_continue","Get it and return \nto the spaceport"),f.Localization=t}(),this.load.emit("progress"),this.load.emit("progress"),await f.GetLevelData(),this.load.emit("progress"),this.load.emit("progress"),this.load.emit("progress"),await f.GetFuelData(),this.load.emit("progress"),this.load.emit("progress"),this.load.emit("progress"),await f.GetChestData(),this.scene.start("MainMenu")}create(){this.anims.create({key:"explode",frames:this.anims.generateFrameNumbers("sheetCircleExp",{frames:[0,1,2,3,4,5,6,7,8,9,10,11]}),frameRate:12,repeat:0}),this.anims.create({key:"thrust",frames:this.anims.generateFrameNumbers("sheetThrust",{frames:[0,1,2,3]}),frameRate:16,repeat:-1}),this.anims.create({key:"maogaIdle",frames:this.anims.generateFrameNumbers("sheetMaogaJump",{frames:[0]}),frameRate:1,repeat:-1}),this.anims.create({key:"maogaJump",frames:this.anims.generateFrameNumbers("sheetMaogaJump",{frames:[0,1,2,3,6,7]}),frameRate:14,repeat:0}),this.anims.create({key:"maogaFlyUp",frames:this.anims.generateFrameNumbers("sheetMaogaFly",{frames:[0]}),frameRate:1,repeat:0}),this.anims.create({key:"maogaFlyIdle",frames:this.anims.generateFrameNumbers("sheetMaogaFly",{frames:[1]}),frameRate:1,repeat:0}),this.anims.create({key:"maogaFlyDown",frames:this.anims.generateFrameNumbers("sheetMaogaFly",{frames:[1,2,3,4,5]}),frameRate:5,repeat:-1})}}const Tt={type:a.AUTO,width:h,height:c,parent:"game-container",backgroundColor:"#000000ff",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}},scene:[l,Pt,$,U,j]};document.addEventListener("DOMContentLoaded",(()=>{new a.Game({...Tt,parent:"game-container"})}));
