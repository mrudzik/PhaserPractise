import{r as t}from"./phaser-UvlxNa5i.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();var e=t();class s extends e.Scene{constructor(){super("Boot")}preload(){this.load.image("background","./assets/SpaceBackground.png"),this.load.image("maskotFront","./assets/Mascot_Front.png"),this.load.image("maskotBack","./assets/Mascot_Back.png"),this.load.image("imgCoin","./assets/Coin.png"),this.load.image("imgChest","./assets/Chest.png"),this.load.image("imgFuel","./assets/FuelCan.png"),this.load.image("imgCrypto","./assets/CoinCrypto.png"),this.load.image("imgChestHiRes","./assets/ChestHiRes.png"),this.load.image("imgGalaxy","./assets/milky-way-1.png"),this.load.image("imgAsteroid","./assets/Asteroid Brown.png")}create(){this.scene.start("Preloader")}}class i{constructor(){this.roundStarted=!1,this.isDebugMode=!0,this.textShowRoundTime,this.textShowHowToStart,this.tweenShowHowToStart,this.tweenPlayerIdle,this.timer,this.startTime=0,this.roundTime=0,this.playerRef,this.trapDelay=8e3,this.trapTimeSpawnedAt=0,this.trapSpawnTimer=0,this.eventEmmiter}startRound(){this.roundStarted||(this.textShowHowToStart.visible=!1,this.tweenShowHowToStart.complete(),this.tweenPlayerIdle.complete(),this.roundStarted=!0,this.playerRef.body.allowGravity=!0,this.startTime=this.timer.now,this.trapTimeSpawnedAt=this.timer.now)}refreshUpdate(){this.isDebugMode&&this.textShowRoundTime.setText(`Scene Time ${this.timer.now}\nRound Time ${this.roundTime}\nTime since last trap spawn ${this.trapSpawnTimer} | ${this.trapDelay}`),this.roundStarted&&(this.roundTime=Math.round(this.timer.now-this.startTime),this.trapSpawnTimer>=this.trapDelay?(this.trapTimeSpawnedAt=this.timer.now,this.trapSpawnTimer=0,this.eventEmmiter.emit("spawnTrap")):this.trapSpawnTimer=Math.round(this.timer.now-this.trapTimeSpawnedAt))}}class o{constructor(){this.trapsArray=[]}refreshUpdate(){for(let t=0;t<this.trapsArray.length;t++)this.trapsArray[t].updateObj()}}class a{constructor(){this.trapLine,this.asteroids=[]}updateObj(){for(let t=0;t<this.asteroids.length;t++)this.asteroids[t].refreshPosition(this.trapLine.y)}}class n{constructor(){this.circleObj,this.offsetY=0,this.outOfMapRange=100}refreshPosition(t){this.circleObj.y=t+this.offsetY,this.circleObj.x>f+this.outOfMapRange&&(this.circleObj.x=-this.outOfMapRange)}}class r extends e.Scene{constructor(){super("Game"),this.player,this.jumpOn=!1,this.roundControll=new i,this.trapControll=new o}create(){this.physics.world.gravity.y=1500,this.add.image(f/2,m/2,"background"),this.setupPlayer(),this.setupInput(),this.setupRoundController(),this.spawnTrapLogic()}setupPlayer(){this.player=this.add.image(f/2,m/2+200,"maskotBack").setScale(1,1),this.physics.world.enable(this.player),this.player.body.allowGravity=!1,this.player.body.setCollideWorldBounds(!0),this.player.body.setMaxVelocity(0,800),this.roundControll.tweenPlayerIdle=this.tweens.add({targets:this.player,y:m/2+50,ease:"Sine.easeOut",duration:800,repeat:-1,yoyo:!0})}setupInput(){const t=this.add.rectangle(0,m,f,600,16777215,0).setOrigin(0,1).setInteractive();t.on("pointerdown",(()=>{this.inputJumpStart()})),t.on("pointerup",(()=>{this.inputJumpEnd()}));var e=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);e.on("down",(()=>{this.inputJumpStart()})),e.on("up",(()=>{this.inputJumpEnd()}))}inputJumpStart(){this.jumpOn=!0,this.roundControll.startRound()}inputJumpEnd(){this.jumpOn=!1,this.player.body.velocity.y=-400}setupRoundController(){this.roundControll.textShowRoundTime=this.add.text(10,10,"Round Time",{fontFamily:"Inter",fontStyle:"Bold",fontSize:15,color:"#ffffff",stroke:"#000000",strokeThickness:1}),this.roundControll.textShowHowToStart=this.add.text(f/2,m-200,"TAP TO START",{fontFamily:"Inter",fontStyle:"Bold",fontSize:40,color:"#ffffff",stroke:"#000000",strokeThickness:2}).setOrigin(.5),this.roundControll.tweenShowHowToStart=this.tweens.add({targets:this.roundControll.textShowHowToStart,props:{scale:{value:1.4,ease:"Sine.easeOut"}},duration:1e3,repeat:-1,yoyo:!0}),this.roundControll.timer=this.time,this.roundControll.playerRef=this.player,this.roundControll.eventEmmiter=new Phaser.Events.EventEmitter,this.roundControll.eventEmmiter.on("spawnTrap",(()=>{this.spawnTrapLogic()}))}update(){this.jumpOn&&(this.player.body.velocity.y=-600),this.roundControll.refreshUpdate(),this.trapControll.refreshUpdate()}spawnTrapLogic(){console.log("Spawning from event");var t=new a,e=this.add.rectangle(f/2,-100,f,10,10860233,256);this.physics.world.enable(e),e.body.allowGravity=!1,e.body.velocity.y=100,t.trapLine=e;var s=(f+200)/3;t.asteroids.push(this.spawnAsteroid(0,50*Math.random(),100)),t.asteroids.push(this.spawnAsteroid(s,50*Math.random(),100)),t.asteroids.push(this.spawnAsteroid(2*s,50*Math.random(),100)),this.trapControll.trapsArray.push(t)}spawnAsteroid(t,e,s){var i=new n;return i.circleObj=this.add.sprite(t,e,"imgAsteroid").setScale(.8,.8).setAngle(180*Math.random()-90),i.offsetY=e,this.physics.world.enable(i.circleObj),i.circleObj.body.allowGravity=!1,i.circleObj.body.velocity.x=s,i.circleObj.body.setCircle(65,10,20),i}}class l extends e.Scene{constructor(){super("GameOver")}create(){this.cameras.main.setBackgroundColor(16711680),this.add.image(512,384,"background").setAlpha(.5),this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class h{constructor(){this.galaxyPanels=[],this.imgBackground,this.textChoose}ShowEverything(t){this.imgBackground.setVisible(t),this.textChoose.visible=t;for(let e=0;e<this.galaxyPanels.length;e++)this.galaxyPanels[e].SetVisibility(t)}}class d{constructor(){this.backgroundPic,this.backgroundPicFaded,this.nameText,this.isDemo,this.coinText,this.coinIcon,this.cryptoText,this.cryptoText,this.buttonPlayRect,this.buttonPlayText}SetVisibility(t){this.backgroundPic.setVisible(t),this.backgroundPicFaded.setVisible(t),this.nameText.visible=t,this.coinText.visible=t,this.coinIcon.setVisible(t),this.buttonPlayRect.setVisible(t),this.buttonPlayText.visible=t}}class c{constructor(){this.buyPanels=[],this.imgBackground,this.textChoose}ShowEverything(t){this.imgBackground.setVisible(t),this.textChoose.visible=t;for(let e=0;e<this.buyPanels.length;e++)this.buyPanels[e].SetVisibility(t)}}class u{constructor(){this.rectBackground,this.imgFuel,this.textAmmount,this.rectButton,this.textPrice,this.imgCryptoIcon}SetVisibility(t){this.rectBackground.setVisible(t),this.imgFuel.setVisible(t),this.textAmmount.visible=t,this.rectButton.setVisible(t),this.textPrice.visible=t,this.imgCryptoIcon.setVisible(t)}}class g{constructor(){this.imgBackground,this.imgLootCase,this.rectButton,this.textButton}ShowEverything(t){this.imgBackground.setVisible(t),this.imgLootCase.setVisible(t),this.rectButton.setVisible(t),this.textButton.visible=t}}class y extends e.Scene{constructor(){super("MainMenu"),this.galaxyPage=new h,this.fuelBuyPage=new c,this.caseOpenPage=new g}create(){this.add.image(f/2,m/2,"background"),this.add.image(f/2,m/2-30,"maskotFront").setScale(1.5,1.5),this.createPlayButton(),this.createGalaxyPage(),this.createTopIndicators(),this.createFuelBuyPage(),this.createCaseOpenPage()}createTopIndicators(){this.add.image(50,70,"imgCoin"),this.add.text(90,70,"20 MOG",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),this.add.image(f/2-30,70,"imgChest").setInteractive().on("pointerdown",((t,e,s,i)=>{this.caseOpenPage.ShowEverything(!0)})),this.add.text(f/2+30,70,"10",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5),this.add.image(f-150,70,"imgFuel").setInteractive().on("pointerdown",((t,e,s,i)=>{this.fuelBuyPage.ShowEverything(!0)})),this.add.text(f-100,70,"10/12",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(0,.5)}createPlayButton(){this.add.rectangle(f/2,m/2+200,200,60,9180429,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.galaxyPage.ShowEverything(!0)})),this.add.text(f/2,m/2+200,"PLAY",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5)}createGalaxyPage(){this.galaxyPage.imgBackground=this.add.rectangle(0,0,f,m,2039583,1).setOrigin(0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.galaxyPage.ShowEverything(!1)})),this.galaxyPage.textChoose=this.add.text(f/2,200,"Choose galaxy",{fontFamily:"Inter",fontStyle:"Bold",fontSize:40,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5);let t=280;this.galaxyPage.galaxyPanels.push(this.createGalaxyPanel(t,!0,"Milky way","50 000")),this.galaxyPage.galaxyPanels.push(this.createGalaxyPanel(t+=180,!1,"Andromeda","50 000")),this.galaxyPage.galaxyPanels.push(this.createGalaxyPanel(t+=180,!1,"Sombrero","150 000")),this.galaxyPage.ShowEverything(!1)}createGalaxyPanel(t,e,s,i="",o=""){let a=new d;return a.backgroundPic=this.add.image(0,t,"imgGalaxy").setOrigin(0).setInteractive(),a.backgroundPicFaded=this.add.rectangle(0,t+10,720,130,3684408,120).setOrigin(0),a.nameText=this.add.text(20,t+30,s,{fontFamily:"Inter",fontStyle:"Bold",fontSize:40,color:"#ffffff",stroke:"#000000",strokeThickness:1}),""!=i&&(a.coinIcon=this.add.image(20,t+90,"imgCoin").setScale(.6,.6).setOrigin(0),a.coinText=this.add.text(70,t+95,i,{fontFamily:"Inter",fontStyle:"Bold",fontSize:20,color:"#ffffff",stroke:"#000000",strokeThickness:1})),a.isDemo=e,e?(a.buttonPlayRect=this.add.rectangle(f-100,t+75,150,50,2258659,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.scene.start("Game")})),a.buttonPlayText=this.add.text(f-100,t+75,"DEMO",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5)):(a.buttonPlayRect=this.add.rectangle(f-100,t+50,150,50,9180429,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.startGame()})),a.buttonPlayText=this.add.text(f-100,t+50,"BET",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5)),a}createFuelBuyPage(){this.fuelBuyPage.imgBackground=this.add.rectangle(0,0,f,m,14277081,1).setOrigin(0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.fuelBuyPage.ShowEverything(!1)})),this.fuelBuyPage.textChoose=this.add.text(f/2,130,"Select your bet pack",{fontFamily:"Inter",fontStyle:"Bold",fontSize:40,color:"#000000"}).setOrigin(.5);let t=250;this.fuelBuyPage.buyPanels.push(this.createFuelBuyPanel(t,10,5)),this.fuelBuyPage.buyPanels.push(this.createFuelBuyPanel(t+=210,20,7)),this.fuelBuyPage.buyPanels.push(this.createFuelBuyPanel(t+=210,30,10)),this.fuelBuyPage.ShowEverything(!1)}createFuelBuyPanel(t,e,s){let i=new u;return i.rectBackground=this.add.rectangle(0,t,720,200,3684408,220).setOrigin(0).setInteractive(),i.imgFuel=this.add.image(20,t+22,"imgFuel").setScale(1.8,1.8).setOrigin(0),i.textAmmount=this.add.text(250,t+100,e,{fontFamily:"Inter",fontStyle:"Bold",fontSize:70,color:"#000000"}).setOrigin(.5),i.rectButton=this.add.rectangle(f-130,t+50+50,220,50,9180429,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",((t,e,s,i)=>{})),i.textPrice=this.add.text(f-80,t+62+50,`BUY FOR ${s}`,{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(1),i.imgCryptoIcon=this.add.image(f-70,t+30+50,"imgCrypto").setScale(.7,.7).setOrigin(0),i}createCaseOpenPage(){this.caseOpenPage.imgBackground=this.add.rectangle(0,0,f,m,14277081,1).setOrigin(0).setInteractive().on("pointerdown",((t,e,s,i)=>{this.caseOpenPage.ShowEverything(!1)})),this.caseOpenPage.imgLootCase=this.add.image(f/2,m/2-100,"imgChestHiRes").setScale(1.5,1.5).setOrigin(.5),this.caseOpenPage.rectButton=this.add.rectangle(f/2,m/2+200,220,50,9180429,1).setRounded(8).setStrokeStyle(2,0).setInteractive().on("pointerdown",((t,e,s,i)=>{})),this.caseOpenPage.textButton=this.add.text(f/2,m/2+200,"OPEN",{fontFamily:"Inter",fontStyle:"Bold",fontSize:23,color:"#ffffff",stroke:"#000000",strokeThickness:1}).setOrigin(.5),this.caseOpenPage.ShowEverything(!1)}startGame(){this.scene.start("Game")}}class p extends e.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const t=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(e=>{t.width=4+460*e}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("MainMenu")}}const f=720,m=1280,S={type:e.AUTO,width:f,height:m,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!1}},scene:[s,p,y,r,l]};document.addEventListener("DOMContentLoaded",(()=>{new e.Game({...S,parent:"game-container"})}));
