import{r as e,g as t}from"./phaser-CLYd3JIB.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const i=t(e()),s=document.querySelector("#gameStartDiv"),a=document.querySelector("#gameStartBtn"),r=document.querySelector("#gameEndDiv"),n=document.querySelector("#gameWinLoseSpan"),o=document.querySelector("#gameEndScoreSpan");class h extends i.Scene{constructor(){super("scene-game"),this.player,this.cursor,this.playerSpeed=250,this.target,this.points=0,this.textScore,this.textTime,this.timeEvent,this.remainingTime,this.coinMusic,this.bgMusic,this.emitter}preload(){this.load.image("bg","*/assets/bg.png"),this.load.image("basket","*/assets/basket.png"),this.load.image("apple","*/assets/apple.png"),this.load.image("money","*/assets/money.png"),this.load.audio("coin","*/assets/coin.mp3"),this.load.audio("bgMusic","*/assets/bgMusic.mp3")}create(){this.scene.pause("scene-game"),this.coinMusic=this.sound.add("coin"),this.bgMusic=this.sound.add("bgMusic"),this.add.image(0,0,"bg").setOrigin(0,0),this.player=this.physics.add.image(100,400,"basket").setOrigin(0,0),this.player.setImmovable(!0),this.player.body.allowGravity=!1,this.player.setCollideWorldBounds(!0),this.player.setSize(80,15).setOffset(10,70),this.target=this.physics.add.image(0,0,"apple").setOrigin(0,0),this.target.setMaxVelocity(0,200),this.physics.add.overlap(this.target,this.player,this.targetHit,null,this),this.cursor=this.input.keyboard.createCursorKeys(),this.textScore=this.add.text(380,10,"Score: 0",{font:"25px Arial",fill:"#000000"}),this.textTime=this.add.text(10,10,"Remaining Time: 00",{font:"25px Arial",fill:"#000000"}),this.timedEvent=this.time.delayedCall(3e4,this.gameOver,[],this),this.emitter=this.add.particles(0,0,"money",{speed:100,gravity:0,scale:.04,duration:100,emitting:!1}),this.emitter.startFollow(this.player,this.player.width/2,this.player.height/2,!0)}update(){this.remainingTime=this.timedEvent.getRemainingSeconds(),this.textTime.setText(`Remaining Time: ${Math.round(this.remainingTime).toString()}`),this.target.y>=500&&(this.target.setY(0),this.target.setX(this.getRandomX()));const{left:e,right:t}=this.cursor;e.isDown?this.player.setVelocityX(-this.playerSpeed):t.isDown?this.player.setVelocityX(this.playerSpeed):this.player.setVelocityX(0)}getRandomX(){return Math.floor(480*Math.random())}targetHit(){this.coinMusic.play(),this.emitter.start(),this.target.setY(0),this.target.setX(this.getRandomX()),this.points++,this.textScore.setText(`Score: ${this.points}`)}gameOver(){this.sys.game.destroy(!0),o.textContent=this.points,this.points>=10?n.textContent="Win! :)":n.textContent="Lose! :(",r.style.display="flex"}}const l={type:i.WEBGL,width:500,height:500,canvas:gameCanvas,physics:{default:"arcade",arcade:{gravity:{y:200},debug:!0}},scene:[h]},c=new i.Game(l);a.addEventListener("click",(()=>{s.style.display="none",c.scene.resume("scene-game")}));
